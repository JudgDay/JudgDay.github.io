<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>GaoJian&#39;blog</title>
  
  <subtitle>勤奋努力的鉴酱</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2021-08-06T07:43:55.980Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Gao Jian</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Stream为集合添加序号</title>
    <link href="http://yoursite.com/2021/08/06/Stream%E4%B8%BA%E9%9B%86%E5%90%88%E6%B7%BB%E5%8A%A0%E5%BA%8F%E5%8F%B7/"/>
    <id>http://yoursite.com/2021/08/06/Stream为集合添加序号/</id>
    <published>2021-08-06T07:39:37.000Z</published>
    <updated>2021-08-06T07:43:55.980Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Stream为集合添加序号"><a href="#Stream为集合添加序号" class="headerlink" title="Stream为集合添加序号"></a>Stream为集合添加序号</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;User&gt; userList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        User u1 = <span class="keyword">new</span> User();</span><br><span class="line">       u1.setUserName(<span class="string">"张三"</span>);</span><br><span class="line">      u1.setPassWord(<span class="string">"zhangsan123"</span>);</span><br><span class="line">        userList.add(u1);</span><br><span class="line"> </span><br><span class="line">        User u2 = <span class="keyword">new</span> User();</span><br><span class="line">       u2.setUserName(<span class="string">"李四"</span>);</span><br><span class="line">      u2.setPassWord(<span class="string">"lisi123"</span>);</span><br><span class="line">        userList.add(u2);</span><br><span class="line"> </span><br><span class="line">        User u3 = <span class="keyword">new</span> User();</span><br><span class="line">       u3.setUserName(<span class="string">"王五"</span>);</span><br><span class="line">      u3.setPassWord(<span class="string">"wangwu123"</span>);</span><br><span class="line">        userList.add(u3);</span><br><span class="line">        <span class="comment">//遍历添加序号</span></span><br><span class="line">      list.forEach(v -&gt; v.setIndex(list.indexOf(v)+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> Integer index;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> String userName;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> String passWord;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Stream为集合添加序号&quot;&gt;&lt;a href=&quot;#Stream为集合添加序号&quot; class=&quot;headerlink&quot; title=&quot;Stream为集合添加序号&quot;&gt;&lt;/a&gt;Stream为集合添加序号&lt;/h2&gt;&lt;figure class=&quot;highlight java
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tagss/Java/"/>
    
      <category term="Stream" scheme="http://yoursite.com/tagss/Stream/"/>
    
  </entry>
  
  <entry>
    <title>MyBatis判断数组和集合的长度</title>
    <link href="http://yoursite.com/2021/08/06/MyBatis%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84%E5%92%8C%E9%9B%86%E5%90%88%E7%9A%84%E9%95%BF%E5%BA%A6/"/>
    <id>http://yoursite.com/2021/08/06/MyBatis判断数组和集合的长度/</id>
    <published>2021-08-06T07:33:13.000Z</published>
    <updated>2021-08-06T07:33:55.103Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MyBatis判断数组和集合的长度"><a href="#MyBatis判断数组和集合的长度" class="headerlink" title="MyBatis判断数组和集合的长度"></a>MyBatis判断数组和集合的长度</h1><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"arr != null and arr.length &gt; 0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"list != null and list.size() &gt; 0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"list != null and !list.isEmpty()"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MyBatis判断数组和集合的长度&quot;&gt;&lt;a href=&quot;#MyBatis判断数组和集合的长度&quot; class=&quot;headerlink&quot; title=&quot;MyBatis判断数组和集合的长度&quot;&gt;&lt;/a&gt;MyBatis判断数组和集合的长度&lt;/h1&gt;&lt;h3 id=&quot;数组&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="MyBatis" scheme="http://yoursite.com/tagss/MyBatis/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot全局异常处理非法参数</title>
    <link href="http://yoursite.com/2021/08/06/SpringBoot%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E9%9D%9E%E6%B3%95%E5%8F%82%E6%95%B0/"/>
    <id>http://yoursite.com/2021/08/06/SpringBoot全局异常处理非法参数/</id>
    <published>2021-08-06T07:28:25.000Z</published>
    <updated>2021-08-06T07:52:00.954Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Spring-Boot全局异常处理非法参数"><a href="#Spring-Boot全局异常处理非法参数" class="headerlink" title="Spring Boot全局异常处理非法参数"></a>Spring Boot全局异常处理非法参数</h2><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><p>在一个项目中我们需要对接口中传入的参数进行非法性检查，当参数非法时，抛出异常，然后返回统一的错误信息。</p><h3 id="校验注解"><a href="#校验注解" class="headerlink" title="校验注解"></a>校验注解</h3><h3 id="Bean-Validation中内置的校验注解"><a href="#Bean-Validation中内置的校验注解" class="headerlink" title="Bean Validation中内置的校验注解:"></a>Bean Validation中内置的校验注解:</h3><table><thead><tr><th>Constraint</th><th>描述</th></tr></thead><tbody><tr><td>@Null</td><td>被注解的元素必须为null</td></tr><tr><td>@NotNull</td><td>被注解的元素必须不为null</td></tr><tr><td>@AssertTrue</td><td>被注解的元素必须为true</td></tr><tr><td>@AssertFalse</td><td>被注解的元素必须为false</td></tr><tr><td>@Min(value)</td><td>被注解的元素必须是一个数字，其值必须大于等于指定的最小值</td></tr><tr><td>@Max(value)</td><td>被注解的元素必须是一个数字，其值必须小于等于指定的最大值</td></tr><tr><td>@DecimalMin(value)</td><td>被注解的元素必须是一个数字，其值必须大于等于指定的最小值</td></tr><tr><td>@DecimalMax(value)</td><td>被注解的元素必须是一个数字，其值必须小于等于指定的最大值</td></tr><tr><td>@Size(max,min)</td><td>被注解的元素大小必须在指定的范围内</td></tr><tr><td>@Digits(integer,fraction)</td><td>被注解的元素必须是一个数组，其值必须在可接受的范围内</td></tr><tr><td>@Past</td><td>被注解的元素必须是一个过去的日期</td></tr><tr><td>@Future</td><td>被注解的元素必须是一个将来的日期</td></tr><tr><td>@Pattern(value)</td><td>被注解的元素必须符合指定的正则表达式</td></tr></tbody></table><h3 id="Hibernate-Validator附加的校验注解"><a href="#Hibernate-Validator附加的校验注解" class="headerlink" title="Hibernate Validator附加的校验注解:"></a>Hibernate Validator附加的校验注解:</h3><table><thead><tr><th>Constraint</th><th>描述</th></tr></thead><tbody><tr><td>@NotBlank</td><td>被注解的元素必须非null，且长度必须大于0</td></tr><tr><td>@Email</td><td>被注解的元素必须是电子邮箱地址</td></tr><tr><td>@Length(min,max)</td><td>被注解的元素大小必须在指定的范围内</td></tr><tr><td>@NotEmpty</td><td>被注解的元素必须非空</td></tr><tr><td>@Range(min,max)</td><td>被注解的元素必须在合适的范围内</td></tr></tbody></table><h2 id="添加测试Bean"><a href="#添加测试Bean" class="headerlink" title="添加测试Bean"></a>添加测试Bean</h2><p>添加测试Bean，测试类中定义几个字段，并且每个字段都做一定的限制</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zmjwdzjl.demo.bean;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotBlank;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Pattern;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Email;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanValidation</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Pattern</span>(regexp = <span class="string">"^[A-Za-z0-9]+$"</span>,message=<span class="string">"只能输入由数字和26个英文字母组成的字符串"</span>)</span><br><span class="line">    <span class="keyword">private</span> String loginNumber;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotBlank</span>(message=<span class="string">"密码不能为空"</span>)</span><br><span class="line">    <span class="keyword">private</span> String passWord;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Email</span>(message=<span class="string">"邮箱地址格式不正确"</span>)</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="添加测试接口"><a href="#添加测试接口" class="headerlink" title="添加测试接口"></a>添加测试接口</h2><p>在接口中使用@Validated注解对参数进行合法性检查，如果参数合法，返回原始数据</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ApiOperation</span>(value = <span class="string">"登录接口"</span>)</span><br><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/login"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">login</span><span class="params">(@Validated @RequestBody BeanValidation data)</span> </span>&#123;</span><br><span class="line">    ResultMsg resultMsg = <span class="keyword">new</span> ResultMsg(ResultStatusCode.OK.getErrcode(), ResultStatusCode.OK.getErrmsg(), data);</span><br><span class="line">    <span class="keyword">return</span> resultMsg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="添加异常返回类"><a href="#添加异常返回类" class="headerlink" title="添加异常返回类"></a>添加异常返回类</h2><p>如果未添加全局异常处理，将会使用默认的异常处理，但是返回的结果和自己的数据结构有很大的差异，对于前端处理返回结果也很麻烦。可以自定义参数异常返回的数据类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zmjwdzjl.demo.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArgumentInvalidResult</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String field;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Object rejectedValue;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String defaultMessage;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="添加全局异常处理"><a href="#添加全局异常处理" class="headerlink" title="添加全局异常处理"></a>添加全局异常处理</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zmjwdzjl.demo.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sinosoft.batchcommon.domain.RestfulResponse;</span><br><span class="line"><span class="keyword">import</span> com.sinosoft.batchcommon.util.MessageUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.MethodArgumentNotValidException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ControllerAdvice;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="comment">//如果返回的为json数据或其它对象，添加该注解</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">//添加全局异常处理流程，根据需要设置需要处理的异常，本文以MethodArgumentNotValidException为例</span></span><br><span class="line">    <span class="meta">@ExceptionHandler</span>(value = MethodArgumentNotValidException.class)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">MethodArgumentNotValidHandler</span><span class="params">(MethodArgumentNotValidException exception)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//按需重新封装需要返回的错误信息</span></span><br><span class="line">      List&lt;ArgumentInvalidResult&gt; invalidArguments = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//解析原错误信息，封装后返回，此处返回非法的字段名称，原始值，错误信息</span></span><br><span class="line">      <span class="keyword">for</span> (FieldError error : exception.getBindingResult().getFieldErrors()) &#123;</span><br><span class="line">            ArgumentInvalidResult invalidArgument = <span class="keyword">new</span> ArgumentInvalidResult();</span><br><span class="line">            invalidArgument.setDefaultMessage(error.getDefaultMessage());</span><br><span class="line">            invalidArgument.setField(error.getField());</span><br><span class="line">            invalidArgument.setRejectedValue(error.getRejectedValue());</span><br><span class="line">            invalidArguments.add(invalidArgument);</span><br><span class="line">        &#125;</span><br><span class="line">        ResultMsg resultMsg = <span class="keyword">new</span> ResultMsg(ResultStatusCode.PARAMETER_ERROR.getErrcode(), ResultStatusCode.PARAMETER_ERROR.getErrmsg(), invalidArguments);</span><br><span class="line">      <span class="comment">//也可以用stream将异常信息拼接成字符串返回</span></span><br><span class="line">        String msg = String.join(<span class="string">"\n"</span>,exception.getBindingResult().getFieldErrors().stream().map(error-&gt;error.getField+<span class="string">":"</span>+error.getRejectedValue+<span class="string">"捕获异常:"</span>+error.getDefaultMessage()).collect(Collectors.toList()));</span><br><span class="line">        <span class="keyword">return</span> resultMsg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Spring-Boot全局异常处理非法参数&quot;&gt;&lt;a href=&quot;#Spring-Boot全局异常处理非法参数&quot; class=&quot;headerlink&quot; title=&quot;Spring Boot全局异常处理非法参数&quot;&gt;&lt;/a&gt;Spring Boot全局异常处理非法参数&lt;/
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Spring" scheme="http://yoursite.com/tagss/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Spring项目定制启动图案</title>
    <link href="http://yoursite.com/2021/08/06/Spring%E9%A1%B9%E7%9B%AE%E5%AE%9A%E5%88%B6%E5%90%AF%E5%8A%A8%E5%9B%BE%E6%A1%88/"/>
    <id>http://yoursite.com/2021/08/06/Spring项目定制启动图案/</id>
    <published>2021-08-06T07:12:11.000Z</published>
    <updated>2021-08-06T07:48:15.913Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Spring项目定制启动图案"><a href="#Spring项目定制启动图案" class="headerlink" title="Spring项目定制启动图案"></a>Spring项目定制启动图案</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>在Spring Boot项目启动的时候会显示一个默认的Spring的图案，对应的类为SpringBootBanner</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.   ____          _            __ _ _</span><br><span class="line"> /\\ / ___&apos;_ __ _ _(_)_ __  __ _ \ \ \ \</span><br><span class="line">( ( )\___ | &apos;_ | &apos;_| | &apos;_ \/ _` | \ \ \ \</span><br><span class="line"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  &apos;  |____| .__|_| |_|_| |_\__, | / / / /</span><br><span class="line"> =========|_|==============|___/=/_/_/_/</span><br><span class="line"> :: Spring Boot ::        (v1.5.6.RELEASE)</span><br></pre></td></tr></table></figure><p>图案的输出方式有以下几种模式，默认是CONSOLE的，即只打印到控制台</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Mode &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Disable printing of the banner.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    OFF,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Print the banner to System.out.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    CONSOLE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Print the banner to the log file.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    LOG</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="关闭图案"><a href="#关闭图案" class="headerlink" title="关闭图案"></a>关闭图案</h3><p>关闭图案需要在启动类的main方法中加入以下代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">new</span> SpringApplicationBuilder(DemoApplication.class).bannerMode(Banner.Mode.OFF).run(args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或者使用配置文件修改，在application.yml文件中加入以下代码</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">main:</span></span><br><span class="line"><span class="attr">banner-mode:</span> <span class="string">console</span></span><br></pre></td></tr></table></figure><h3 id="定制图案"><a href="#定制图案" class="headerlink" title="定制图案"></a>定制图案</h3><p>在项目下的<strong>src/main/resources </strong>目录下新建一个<strong>banner.txt</strong> 即可</p><p>图案可以到<a href="https://www.bootschool.net/ascii" target="_blank" rel="noopener">banner生成网站</a>生成，然后拷贝到文件中即可</p><p>也可以通过配置文件来定制图案</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># BANNER</span><br><span class="line">banner.charset=UTF-8 # Banner file encoding.</span><br><span class="line">banner.location=classpath:banner.txt # Banner file location.</span><br><span class="line">banner.image.location=classpath:banner.gif # Banner image file location (jpg/png can also be used).</span><br><span class="line">banner.image.width= # Width of the banner image in chars (default 76)</span><br><span class="line">banner.image.height= # Height of the banner image in chars (default based on image height)</span><br><span class="line">banner.image.margin= # Left hand image margin in chars (default 2)</span><br><span class="line">banner.image.invert= # If images should be inverted for dark terminal themes (default false)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Spring项目定制启动图案&quot;&gt;&lt;a href=&quot;#Spring项目定制启动图案&quot; class=&quot;headerlink&quot; title=&quot;Spring项目定制启动图案&quot;&gt;&lt;/a&gt;Spring项目定制启动图案&lt;/h2&gt;&lt;h3 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot;
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Spring" scheme="http://yoursite.com/tagss/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Python获取版本号</title>
    <link href="http://yoursite.com/2021/08/06/Python%E8%8E%B7%E5%8F%96%E7%89%88%E6%9C%AC%E5%8F%B7/"/>
    <id>http://yoursite.com/2021/08/06/Python获取版本号/</id>
    <published>2021-08-06T07:07:42.000Z</published>
    <updated>2021-08-06T07:08:21.985Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Python获取版本号"><a href="#Python获取版本号" class="headerlink" title="Python获取版本号"></a>Python获取版本号</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> platform</span><br><span class="line">print(platform.python_version())</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Python获取版本号&quot;&gt;&lt;a href=&quot;#Python获取版本号&quot; class=&quot;headerlink&quot; title=&quot;Python获取版本号&quot;&gt;&lt;/a&gt;Python获取版本号&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;tab
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Python" scheme="http://yoursite.com/tagss/Python/"/>
    
  </entry>
  
  <entry>
    <title>Result window is too large, from + size must be less than or equal to: [10000] but was [10025]</title>
    <link href="http://yoursite.com/2021/08/06/Result-window-is-too-large-from-size-must-be-less-than-or-equal-to-10000-but-was-10025/"/>
    <id>http://yoursite.com/2021/08/06/Result-window-is-too-large-from-size-must-be-less-than-or-equal-to-10000-but-was-10025/</id>
    <published>2021-08-06T06:51:13.000Z</published>
    <updated>2021-08-06T07:48:34.434Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Result-window-is-too-large-from-size-must-be-less-than-or-equal-to-10000-but-was-10025"><a href="#Result-window-is-too-large-from-size-must-be-less-than-or-equal-to-10000-but-was-10025" class="headerlink" title="Result window is too large, from + size must be less than or equal to: [10000] but was [10025]"></a>Result window is too large, from + size must be less than or equal to: [10000] but was [10025]</h2><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>在使用Elasticsearch做分页查询时，当查询记录超过10000时，会报如下错误</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Result window is too large, from + size must be less than or equal to: [10000] but was [10025]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level parameter.</span><br></pre></td></tr></table></figure><p>查阅文档可知，默认只能查询到10000</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index.max_result_window</span><br><span class="line">The maximum value of from + size for searches to this index. Defaults to 10000. Search requests take heap memory and time proportional to from + size and this limits that memory. See Scroll or Search After for a more efficient alternative to raising this.</span><br></pre></td></tr></table></figure><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><p>修改索引index的max_result_window属性，设置最大返回结果的大小</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">put http://10.127.0.1:9200/test/_settings</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"index.max_result_window"</span>:<span class="number">1000001</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改成功后返回</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"acknowledged"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Result-window-is-too-large-from-size-must-be-less-than-or-equal-to-10000-but-was-10025&quot;&gt;&lt;a href=&quot;#Result-window-is-too-large-from-si
      
    
    </summary>
    
      <category term="开发问题" scheme="http://yoursite.com/categories/%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="ES" scheme="http://yoursite.com/tagss/ES/"/>
    
  </entry>
  
  <entry>
    <title>MySQL存储emoji表情</title>
    <link href="http://yoursite.com/2020/10/03/MySQL%E5%AD%98%E5%82%A8emoji%E8%A1%A8%E6%83%85/"/>
    <id>http://yoursite.com/2020/10/03/MySQL存储emoji表情/</id>
    <published>2020-10-03T14:13:47.000Z</published>
    <updated>2021-08-06T06:56:58.609Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MySQL存储emoji表情"><a href="#MySQL存储emoji表情" class="headerlink" title="MySQL存储emoji表情"></a>MySQL存储emoji表情</h1><h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>在使用字符集是UTF-8的MySQL数据库存储emoji表情时，会抛出异常（如微信开发获取用户昵称，有的用户的昵称是emoji的图像）</p><h2 id="Exception"><a href="#Exception" class="headerlink" title="Exception"></a>Exception</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">java.sql.SQLException: Incorrect string value: <span class="string">'\xF0\x9F\x92\x94'</span> <span class="keyword">for</span> colum n <span class="string">'name'</span> at row <span class="number">1</span> </span><br><span class="line">at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:<span class="number">1073</span>) </span><br><span class="line">at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:<span class="number">3593</span>) </span><br><span class="line">at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:<span class="number">3525</span>) </span><br><span class="line">at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:<span class="number">1986</span>) </span><br><span class="line">at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:<span class="number">2140</span>) </span><br><span class="line">at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:<span class="number">2620</span>) </span><br><span class="line">at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:<span class="number">1662</span>) </span><br><span class="line">at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:<span class="number">1581</span>)</span><br></pre></td></tr></table></figure><h2 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h2><p>emoji表情是1个字符占4个字节，而UTF-8编码只支持1-3个字节的字符，所以UTF-8编码下，如果直接存储表情，数据库存储会失败</p><h2 id="How"><a href="#How" class="headerlink" title="How"></a>How</h2><p>修改table的字符集</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</span><br></pre></td></tr></table></figure><p>utf8mb4完全向后兼容utf8，无乱码或其他数据丢失的形式出现。理论上是可以放心修改，如果您不放心修改，您可以拿备份恢复数据</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MySQL存储emoji表情&quot;&gt;&lt;a href=&quot;#MySQL存储emoji表情&quot; class=&quot;headerlink&quot; title=&quot;MySQL存储emoji表情&quot;&gt;&lt;/a&gt;MySQL存储emoji表情&lt;/h1&gt;&lt;h2 id=&quot;Background&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="开发问题" scheme="http://yoursite.com/categories/%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="MySQL" scheme="http://yoursite.com/tagss/MySQL/"/>
    
      <category term="emoji" scheme="http://yoursite.com/tagss/emoji/"/>
    
  </entry>
  
  <entry>
    <title>调用List的方法抛出UnsupportedOperationException</title>
    <link href="http://yoursite.com/2020/10/03/%E8%B0%83%E7%94%A8List%E7%9A%84%E6%96%B9%E6%B3%95%E6%8A%9B%E5%87%BAUnsupportedOperationException/"/>
    <id>http://yoursite.com/2020/10/03/调用List的方法抛出UnsupportedOperationException/</id>
    <published>2020-10-03T13:48:06.000Z</published>
    <updated>2021-08-06T06:57:50.860Z</updated>
    
    <content type="html"><![CDATA[<h1 id="调用List的方法抛出UnsupportedOperationException"><a href="#调用List的方法抛出UnsupportedOperationException" class="headerlink" title="调用List的方法抛出UnsupportedOperationException"></a>调用List的方法抛出UnsupportedOperationException</h1><h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>使用Arrays.asList方法将数组转化成List集合后调用List的方法抛出UnsupportedOperationException异常。</p><h2 id="Exception"><a href="#Exception" class="headerlink" title="Exception"></a>Exception</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">java.lang.UnsupportedOperationException</span><br><span class="line">at java.util.AbstractList.remove(AbstractList.java:<span class="number">161</span>)</span><br><span class="line">at java.util.AbstractList$Itr.remove(AbstractList.java:<span class="number">374</span>)</span><br><span class="line">at java.util.AbstractCollection.remove(AbstractCollection.java:<span class="number">293</span>)</span><br><span class="line">at com.synnex.order.search.service.dao.DemoTest.test7(DemoTest.java:<span class="number">140</span>)</span><br></pre></td></tr></table></figure><h2 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h2><p>Arrays.asList方法重新new了一个ArrayList, 但是这个ArrayList不是来自于util包下面的ArrayList， 而是Arrays类里面的内部静态类。这个内部静态类继承AbstractList, 但是没有重写add() , remove()等方法， 所以在调用add(). remove()等方法的时候，实际调用的是AbstractList类的add()和remove()的方法，因此会抛出异常。</p><h2 id="How"><a href="#How" class="headerlink" title="How"></a>How</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String[] testArr = &#123;<span class="string">"Tom"</span>,<span class="string">"Jerry"</span>,<span class="string">"Dave"</span>&#125;;</span><br><span class="line">List&lt;String&gt; stringList = <span class="keyword">new</span> ArrayList&lt;String&gt;(Arrays.asList(testArr));</span><br><span class="line">stringList.remove(<span class="string">"Tom"</span>);</span><br><span class="line">System.out.println(stringList);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;调用List的方法抛出UnsupportedOperationException&quot;&gt;&lt;a href=&quot;#调用List的方法抛出UnsupportedOperationException&quot; class=&quot;headerlink&quot; title=&quot;调用List的方法抛出U
      
    
    </summary>
    
      <category term="开发问题" scheme="http://yoursite.com/categories/%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tagss/Java/"/>
    
  </entry>
  
  <entry>
    <title>SpringAop配合自定义注解</title>
    <link href="http://yoursite.com/2020/09/19/SpringAop%E9%85%8D%E5%90%88%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3/"/>
    <id>http://yoursite.com/2020/09/19/SpringAop配合自定义注解/</id>
    <published>2020-09-19T11:22:40.000Z</published>
    <updated>2020-09-20T11:36:23.382Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringAop配合自定义注解"><a href="#SpringAop配合自定义注解" class="headerlink" title="SpringAop配合自定义注解"></a>SpringAop配合自定义注解</h1><h2 id="什么是AOP"><a href="#什么是AOP" class="headerlink" title="什么是AOP"></a>什么是AOP</h2><p>AOP全称Aspect Oriented Programming，也就是面向切面编程。AOP主要实现的是针对业务处理过程中的切面进行提取，能够让我们在不影响原有业务功能的前提下，<strong>横切</strong>扩展新的功能。它所面对的是处理过程中的某个步骤或阶段，以获得逻辑过程中各部分之间<strong>低耦合性</strong>的隔离效果。</p><h2 id="AOP相关术语"><a href="#AOP相关术语" class="headerlink" title="AOP相关术语"></a>AOP相关术语</h2><p>要理解Spring Boot整合AOP的实现，就必须先对面向切面实现的一些AOP术语有所了解。在Spring的AOP中有很多的术语，而且容易混淆，大家一定要先搞清楚这几个概念：</p><ul><li><p><strong>切面（Aspect）</strong>：一个关注点的模块化，由切点和通知组成。以注解@Aspect的形式放在类上方，用来声明切面。</p></li><li><p><strong>连接点（Joinpoint）</strong>：在程序执行过程中某个特定的点，比如类初始化前、类初始化后，方法调用前，方法调用后。</p></li><li><p><strong>切点（Pointcut）</strong>：切点就是你所切取的类中的方法，比如你横切的这个类中有两个方法，那么这两个方法都是连接点，对这两个方法的定位就称之为切点。以注解@Pointcut的形式，使用条件表达式定义切点。</p></li><li><p><strong>通知（Advice）</strong>：需要完成的工作叫做通知，比如业务逻辑中的事务、日志等先定义好，然后在需要的地方去用。</p><p>主要包括5个注解：Before、After、AfterReturning、AfterThrowing、Around。</p><ul><li><strong>@Before</strong>：前置增强，在切点方法之前执行。</li><li><strong>@After</strong>：最终增强，在切点方法之后执行。</li><li><strong>@AfterReturning</strong>：后置增强，在切点方法退出时执行。</li><li><strong>@AfterThrowing</strong>：在切点方法抛出异常时执行。</li><li><strong>@Around</strong>：环绕增强，能控制切点执行前，执行后，用这个注解后，程序抛异常，会影响@AfterThrowing这个注解。</li></ul></li><li><p><strong>织入（Weaving）</strong>：织入就是将通知逻辑添加到目标对象的过程。</p></li><li><p><strong>目标对象（Target）</strong>：通知逻辑织入的目标类，就是通知逻辑植入到什么位置。</p></li><li><p><strong>引介（Introduction）</strong>：一种特殊的通知，它可以在不改变一个现有类代码的情况下，为该类添加属性和方法。把切面定义的用到目标类中去。</p></li><li><p><strong>代理（Proxy）</strong>：一个类被AOP织入通知后，就会产生一个结果类，他是融合了原类和通知逻辑的代理类。</p></li></ul><h2 id="引入依赖"><a href="#引入依赖" class="headerlink" title="引入依赖"></a>引入依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="自定义注解"><a href="#自定义注解" class="headerlink" title="自定义注解"></a>自定义注解</h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>在反射中获取注解，以取得注解修饰的类、方法或属性的相关解释。</p><h3 id="注解代码"><a href="#注解代码" class="headerlink" title="注解代码"></a>注解代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.istuadmission.common.annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target</span>(value = &#123;ElementType.TYPE, ElementType.METHOD&#125;)<span class="comment">//使用位置（类，方法）</span></span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)<span class="comment">//加载到jvm里运行</span></span><br><span class="line"><span class="meta">@Documented</span><span class="comment">//文档化</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Log &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;<span class="comment">//注解的属性，如果只有一个属性，一般叫value，默认值""，可以不写</span></span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> "验证名称"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用注解"><a href="#使用注解" class="headerlink" title="使用注解"></a>使用注解</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Log</span>(value = <span class="string">"vale"</span>, name = <span class="string">"name"</span>) <span class="comment">//与其它注解一样的使用</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/add"</span>, method = RequestMethod.POST)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"test"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="创建AOP切面"><a href="#创建AOP切面" class="headerlink" title="创建AOP切面"></a>创建AOP切面</h2><h3 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a>作用</h3><p>定义好注解后，需要解析类来实现，此处使用AOP来实现。</p><h3 id="切面代码"><a href="#切面代码" class="headerlink" title="切面代码"></a>切面代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.istuadmission.common.aspect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.istuadmission.common.annotation.Log;</span><br><span class="line"><span class="keyword">import</span> com.istuadmission.common.service.LogService;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Around;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Pointcut;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.reflect.MethodSignature;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Aspect</span><span class="comment">//定义切面</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogAspect</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> LogService logService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义切入点</span></span><br><span class="line">    <span class="meta">@Pointcut</span>(<span class="string">"@annotation(com.istuadmission.common.annotation.Log)"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logPointCut</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加环绕通知@Around</span></span><br><span class="line">    <span class="meta">@Around</span>(<span class="string">"logPointCut()"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint point)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="comment">//先执行切点方法，再执行切面方法，放到最后就是先执行切面，再执行切点</span></span><br><span class="line">        Object result = point.proceed();</span><br><span class="line">        <span class="comment">//获得切点的类名</span></span><br><span class="line">        String targetName = joinPoint.getTarget().getClass().getName();</span><br><span class="line">        <span class="comment">//获得切点的方法名</span></span><br><span class="line">        String methodName = joinPoint.getSignature().getName();</span><br><span class="line">        <span class="comment">//获取切点方法的所有入参</span></span><br><span class="line">        Object[] args = point.getArgs();</span><br><span class="line">        <span class="comment">//通过Method对象获取切点方法的关键信息，类，包</span></span><br><span class="line">        MethodSignature signature = (MethodSignature) point.getSignature();</span><br><span class="line">        Method method = signature.getMethod();</span><br><span class="line">        Log log = method.getAnnotation(Log.class);</span><br><span class="line">        <span class="keyword">if</span> (log != <span class="keyword">null</span>) &#123;</span><br><span class="line">            logService.insert(log.value(),log.name());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;SpringAop配合自定义注解&quot;&gt;&lt;a href=&quot;#SpringAop配合自定义注解&quot; class=&quot;headerlink&quot; title=&quot;SpringAop配合自定义注解&quot;&gt;&lt;/a&gt;SpringAop配合自定义注解&lt;/h1&gt;&lt;h2 id=&quot;什么是AOP&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Spring Boot" scheme="http://yoursite.com/tagss/Spring-Boot/"/>
    
      <category term="Aop" scheme="http://yoursite.com/tagss/Aop/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot后台国际化</title>
    <link href="http://yoursite.com/2020/09/13/SpringBoot%E5%90%8E%E5%8F%B0%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    <id>http://yoursite.com/2020/09/13/SpringBoot后台国际化/</id>
    <published>2020-09-13T08:02:57.000Z</published>
    <updated>2021-08-05T08:11:18.440Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot后台国际化"><a href="#SpringBoot后台国际化" class="headerlink" title="SpringBoot后台国际化"></a>SpringBoot后台国际化</h1><h2 id="新建国际化资源文件"><a href="#新建国际化资源文件" class="headerlink" title="新建国际化资源文件"></a>新建国际化资源文件</h2><p>在resources下面新建了三个文件</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/SpringBoot后台国际化/1.png" alt="1"></p><p>messages.properties是必须的，内容可以为空，但是必须有这个文件</p><p>messages_zh_CN.properties和messages_en_US.properties分别是中文和英文资源</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/SpringBoot后台国际化/2.png" alt="2"></p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/SpringBoot后台国际化/3.png" alt="3"></p><h2 id="配置国际化"><a href="#配置国际化" class="headerlink" title="配置国际化"></a>配置国际化</h2><p>如果是从请求头中获取Local Message</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.LocaleResolver;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LocaleConfig</span> <span class="keyword">extends</span> <span class="title">AcceptHeaderLocaleResolver</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Locale <span class="title">resolveLocale</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">        String headerLang = request.getHeader(<span class="string">"language"</span>);</span><br><span class="line">        <span class="keyword">return</span> headerLang == <span class="keyword">null</span> || headerLang.isEmpty()</span><br><span class="line">                ? Locale.CHINESE</span><br><span class="line">                : <span class="keyword">new</span> Locale(headerLang);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LocaleResolver <span class="title">localeResolver</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> LocaleConfig();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果是从HTTP请求中参数Local Message</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.LocaleResolver;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.i18n.LocaleChangeInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.i18n.SessionLocaleResolver;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LocaleConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 默认解析器 其中locale表示默认语言</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LocaleResolver <span class="title">localeResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        SessionLocaleResolver localeResolver = <span class="keyword">new</span> SessionLocaleResolver();</span><br><span class="line">        localeResolver.setDefaultLocale(Locale.CHINESE);</span><br><span class="line">        <span class="keyword">return</span> localeResolver;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 默认拦截器 其中lang表示切换语言的参数名</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> WebMvcConfigurer <span class="title">localeInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> WebMvcConfigurer() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">                LocaleChangeInterceptor localeInterceptor = <span class="keyword">new</span> LocaleChangeInterceptor();</span><br><span class="line">                localeInterceptor.setParamName(<span class="string">"lang"</span>);</span><br><span class="line">                registry.addInterceptor(localeInterceptor);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="编写工具类获取Local-Message"><a href="#编写工具类获取Local-Message" class="headerlink" title="编写工具类获取Local Message"></a>编写工具类获取Local Message</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.MessageSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.i18n.LocaleContextHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MessageSource messageSource;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLocale</span><span class="params">(String msgCode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> messageSource.getMessage(msgCode, <span class="keyword">null</span>, LocaleContextHolder.getLocale());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">return</span> msgCode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>在REST API中使用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/TestController"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> MessageUtils messageUtils;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> messageUtils.getLocale(<span class="string">"test"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/SpringBoot后台国际化/4.png" alt="4"></p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/SpringBoot后台国际化/5.png" alt="5"></p><p>如果出现中文乱码的情况</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/SpringBoot后台国际化/6.png" alt="6"></p><p>在Settings中将编码格式改成UTF-8</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/SpringBoot后台国际化/7.png" alt="7"></p><p>然后将乱码的文字重新编写一下就好了</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/SpringBoot后台国际化/8.png" alt="8"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;SpringBoot后台国际化&quot;&gt;&lt;a href=&quot;#SpringBoot后台国际化&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot后台国际化&quot;&gt;&lt;/a&gt;SpringBoot后台国际化&lt;/h1&gt;&lt;h2 id=&quot;新建国际化资源文件&quot;&gt;&lt;a
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tagss/Java/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tagss/SpringBoot/"/>
    
      <category term="国际化" scheme="http://yoursite.com/tagss/%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    
      <category term="i18n" scheme="http://yoursite.com/tagss/i18n/"/>
    
  </entry>
  
  <entry>
    <title>后台运行与停止jar包</title>
    <link href="http://yoursite.com/2020/09/05/%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E4%B8%8E%E5%81%9C%E6%AD%A2jar%E5%8C%85/"/>
    <id>http://yoursite.com/2020/09/05/后台运行与停止jar包/</id>
    <published>2020-09-05T07:50:40.000Z</published>
    <updated>2021-08-06T07:02:39.408Z</updated>
    
    <content type="html"><![CDATA[<h1 id="后台运行与停止jar包"><a href="#后台运行与停止jar包" class="headerlink" title="后台运行与停止jar包"></a>后台运行与停止jar包</h1><h2 id="后台运行jar包命令"><a href="#后台运行jar包命令" class="headerlink" title="后台运行jar包命令"></a>后台运行jar包命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar jar包名 &amp;</span><br></pre></td></tr></table></figure><p>nohup：加在一个命令的最前面，表示不挂断的运行命令</p><p>&amp;：加载一个命令的最后面，表示这个命令放在后台执行</p><h2 id="后台停止"><a href="#后台停止" class="headerlink" title="后台停止"></a>后台停止</h2><ol><li><p>找到进程号</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux|grep jar包名</span><br></pre></td></tr></table></figure><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/后台运行与停止jar包/1.png" alt="1"></p></li><li><p>杀死进程</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 进程号(红框标记的进程号)</span><br></pre></td></tr></table></figure></li></ol><p>   kill -9是操作系统从内核级别强制杀死一个进程，如果希望正常退出进程可以使用kill -15</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;后台运行与停止jar包&quot;&gt;&lt;a href=&quot;#后台运行与停止jar包&quot; class=&quot;headerlink&quot; title=&quot;后台运行与停止jar包&quot;&gt;&lt;/a&gt;后台运行与停止jar包&lt;/h1&gt;&lt;h2 id=&quot;后台运行jar包命令&quot;&gt;&lt;a href=&quot;#后台运行jar
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tagss/Java/"/>
    
      <category term="Jar" scheme="http://yoursite.com/tagss/Jar/"/>
    
  </entry>
  
  <entry>
    <title>Git修改查看用户名和邮箱</title>
    <link href="http://yoursite.com/2020/08/30/Git%E4%BF%AE%E6%94%B9%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E9%82%AE%E7%AE%B1/"/>
    <id>http://yoursite.com/2020/08/30/Git修改查看用户名和邮箱/</id>
    <published>2020-08-30T08:41:16.000Z</published>
    <updated>2021-08-05T08:05:24.657Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Git修改查看用户名和邮箱"><a href="#Git修改查看用户名和邮箱" class="headerlink" title="Git修改查看用户名和邮箱"></a>Git修改查看用户名和邮箱</h1><h2 id="修改用户名和邮箱"><a href="#修改用户名和邮箱" class="headerlink" title="修改用户名和邮箱"></a>修改用户名和邮箱</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;username&quot;</span><br><span class="line">$ git config --global user.email &quot;email&quot;</span><br></pre></td></tr></table></figure><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Git修改查看用户名和邮箱/1.png" alt="1"></p><h2 id="查看用户名和邮箱"><a href="#查看用户名和邮箱" class="headerlink" title="查看用户名和邮箱"></a>查看用户名和邮箱</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config user.name</span><br><span class="line">$ git config user.email</span><br></pre></td></tr></table></figure><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Git修改查看用户名和邮箱/2.png" alt="2"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Git修改查看用户名和邮箱&quot;&gt;&lt;a href=&quot;#Git修改查看用户名和邮箱&quot; class=&quot;headerlink&quot; title=&quot;Git修改查看用户名和邮箱&quot;&gt;&lt;/a&gt;Git修改查看用户名和邮箱&lt;/h1&gt;&lt;h2 id=&quot;修改用户名和邮箱&quot;&gt;&lt;a href=&quot;#修
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Git" scheme="http://yoursite.com/tagss/Git/"/>
    
  </entry>
  
  <entry>
    <title>MD5加密</title>
    <link href="http://yoursite.com/2019/11/07/MD5%E5%8A%A0%E5%AF%86/"/>
    <id>http://yoursite.com/2019/11/07/MD5加密/</id>
    <published>2019-11-07T01:41:04.000Z</published>
    <updated>2019-11-07T03:23:48.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MD5加密"><a href="#MD5加密" class="headerlink" title="MD5加密"></a>MD5加密</h1><h2 id="MD5加密后转为小写16进制"><a href="#MD5加密后转为小写16进制" class="headerlink" title="MD5加密后转为小写16进制"></a>MD5加密后转为小写16进制</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">Md5</span><span class="params">(String plainText)</span> </span>&#123;</span><br><span class="line">        StringBuffer buf = <span class="keyword">new</span> StringBuffer(<span class="string">""</span>);</span><br><span class="line">        String result;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            MessageDigest md = MessageDigest.getInstance(<span class="string">"MD5"</span>);</span><br><span class="line">            md.update(plainText.getBytes());</span><br><span class="line">            <span class="keyword">byte</span> b[] = md.digest();</span><br><span class="line">            <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> offset = <span class="number">0</span>; offset &lt; b.length; offset++) &#123;</span><br><span class="line">                i = b[offset];</span><br><span class="line">                <span class="keyword">if</span> (i &lt; <span class="number">0</span>)</span><br><span class="line">                    i += <span class="number">256</span>;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; <span class="number">16</span>)</span><br><span class="line">                    buf.append(<span class="string">"0"</span>);</span><br><span class="line">                buf.append(Integer.toHexString(i));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> String(buf).getBytes();</span><br><span class="line">            result = DatatypeConverter.printHexBinary(bytes);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="MD5加密后转为小写32进制"><a href="#MD5加密后转为小写32进制" class="headerlink" title="MD5加密后转为小写32进制"></a>MD5加密后转为小写32进制</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">encryption</span><span class="params">(String plainText)</span> </span>&#123;</span><br><span class="line">        String re_md5 = <span class="keyword">new</span> String();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            MessageDigest md = MessageDigest.getInstance(<span class="string">"MD5"</span>);</span><br><span class="line">            md.update(plainText.getBytes());</span><br><span class="line">            <span class="keyword">byte</span> b[] = md.digest();</span><br><span class="line">            <span class="keyword">int</span> i;</span><br><span class="line">            StringBuffer buf = <span class="keyword">new</span> StringBuffer(<span class="string">""</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> offset = <span class="number">0</span>; offset &lt; b.length; offset++) &#123;</span><br><span class="line">                i = b[offset];</span><br><span class="line">                <span class="keyword">if</span> (i &lt; <span class="number">0</span>)</span><br><span class="line">                    i += <span class="number">256</span>;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; <span class="number">16</span>)</span><br><span class="line">                    buf.append(<span class="string">"0"</span>);</span><br><span class="line">                buf.append(Integer.toHexString(i));</span><br><span class="line">            &#125;</span><br><span class="line">            re_md5 = buf.toString();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> re_md5;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MD5加密&quot;&gt;&lt;a href=&quot;#MD5加密&quot; class=&quot;headerlink&quot; title=&quot;MD5加密&quot;&gt;&lt;/a&gt;MD5加密&lt;/h1&gt;&lt;h2 id=&quot;MD5加密后转为小写16进制&quot;&gt;&lt;a href=&quot;#MD5加密后转为小写16进制&quot; class=&quot;head
      
    
    </summary>
    
      <category term="小技巧" scheme="http://yoursite.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="MD5" scheme="http://yoursite.com/tagss/MD5/"/>
    
      <category term="Java" scheme="http://yoursite.com/tagss/Java/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Next使用Valine作评论系统</title>
    <link href="http://yoursite.com/2019/08/29/Hexo-Next%E4%BD%BF%E7%94%A8Valine%E4%BD%9C%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/"/>
    <id>http://yoursite.com/2019/08/29/Hexo-Next使用Valine作评论系统/</id>
    <published>2019-08-29T07:56:32.000Z</published>
    <updated>2021-08-05T08:05:55.536Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Hexo-Next使用Valine作评论系统"><a href="#Hexo-Next使用Valine作评论系统" class="headerlink" title="Hexo Next使用Valine作评论系统"></a>Hexo Next使用Valine作评论系统</h2><h2 id="注册LeanCloud"><a href="#注册LeanCloud" class="headerlink" title="注册LeanCloud"></a>注册LeanCloud</h2><p>前往<a href="https://leancloud.cn/dashboard/login.html#/signup" target="_blank" rel="noopener">LeanCloud</a>进行注册登陆</p><h2 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h2><p>点击创建应用</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/1.png" alt="1"></p><p>输入应用名称(名称随意), 选择开发版, 点击创建</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/2.png" alt="2"></p><h2 id="配置应用"><a href="#配置应用" class="headerlink" title="配置应用"></a>配置应用</h2><p>创建成功后点击应用右上角的设置</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/3.png" alt="3"></p><p>点击存储，创建Class，Class名称设置为Comment(必须为Comment)，选择无限制，点击创建</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next使用Valine作评论系统/1.png" alt="4"></p><p>创建后点击设置，点击应用Key，获取App ID和App Key</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/5.png" alt="5"></p><h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>将主题配置文件/themes/next/_config.yml中的<code>Valine:</code>的<code>enable</code>设为<code>true</code>，并将App ID和App Key填入</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next使用Valine作评论系统/2.png" alt="6"></p><h2 id="配置域名"><a href="#配置域名" class="headerlink" title="配置域名"></a>配置域名</h2><p>点击安全中心, 填写自己博客对应的域名（注意协议、域名和端口号需严格一致）</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/7.png" alt="7"></p><h2 id="启动Hexo"><a href="#启动Hexo" class="headerlink" title="启动Hexo"></a>启动Hexo</h2><p>完成后执行<code>hexo clean</code>和<code>hexo s</code>启动Hexo,打开文章便可以看到评论了</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next使用Valine作评论系统/3.png" alt="8"></p><p>好了，到此Hexo Next使用Valine作评论系统就完成了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Hexo-Next使用Valine作评论系统&quot;&gt;&lt;a href=&quot;#Hexo-Next使用Valine作评论系统&quot; class=&quot;headerlink&quot; title=&quot;Hexo Next使用Valine作评论系统&quot;&gt;&lt;/a&gt;Hexo Next使用Valine作评论
      
    
    </summary>
    
      <category term="搭建教程" scheme="http://yoursite.com/categories/%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tagss/Hexo/"/>
    
      <category term="Next" scheme="http://yoursite.com/tagss/Next/"/>
    
  </entry>
  
  <entry>
    <title>Hexo设置侧边栏社交小图标</title>
    <link href="http://yoursite.com/2019/08/29/Hexo%E8%AE%BE%E7%BD%AE%E4%BE%A7%E8%BE%B9%E6%A0%8F%E7%A4%BE%E4%BA%A4%E5%B0%8F%E5%9B%BE%E6%A0%87/"/>
    <id>http://yoursite.com/2019/08/29/Hexo设置侧边栏社交小图标/</id>
    <published>2019-08-29T02:52:52.000Z</published>
    <updated>2021-08-05T08:07:36.820Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexo设置侧边栏社交小图标"><a href="#Hexo设置侧边栏社交小图标" class="headerlink" title="Hexo设置侧边栏社交小图标"></a>Hexo设置侧边栏社交小图标</h1><h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>在主题配置文件里找到social_icons，将enable修改为true,并将链接写入</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo设置侧边栏社交小图标/1.png" alt="1"></p><h2 id="启动Hexo"><a href="#启动Hexo" class="headerlink" title="启动Hexo"></a>启动Hexo</h2><p>启动Hexo后，便可以看到侧边栏已显示社交小图标</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo设置侧边栏社交小图标/2.png" alt="2"></p><p>好了，到此Hexo设置侧边栏社交小图标就安装成功了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hexo设置侧边栏社交小图标&quot;&gt;&lt;a href=&quot;#Hexo设置侧边栏社交小图标&quot; class=&quot;headerlink&quot; title=&quot;Hexo设置侧边栏社交小图标&quot;&gt;&lt;/a&gt;Hexo设置侧边栏社交小图标&lt;/h1&gt;&lt;h2 id=&quot;修改主题配置文件&quot;&gt;&lt;a href
      
    
    </summary>
    
      <category term="搭建教程" scheme="http://yoursite.com/categories/%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tagss/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo设置首页不显示文章全文</title>
    <link href="http://yoursite.com/2019/08/28/Hexo%E8%AE%BE%E7%BD%AE%E9%A6%96%E9%A1%B5%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%96%87%E7%AB%A0%E5%85%A8%E6%96%87/"/>
    <id>http://yoursite.com/2019/08/28/Hexo设置首页不显示文章全文/</id>
    <published>2019-08-28T07:42:08.000Z</published>
    <updated>2021-08-05T08:07:57.646Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexo设置首页不显示文章全文"><a href="#Hexo设置首页不显示文章全文" class="headerlink" title="Hexo设置首页不显示文章全文"></a>Hexo设置首页不显示文章全文</h1><h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>在主题配置文件_config.yml文件中，找到如下：</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo设置首页不显示文章全文/1.png" alt="1"></p><p>将enable改成true就可以了在首页启动显示文章预览了</p><p>length是显示预览的长度。</p><h2 id="启动Hexo"><a href="#启动Hexo" class="headerlink" title="启动Hexo"></a>启动Hexo</h2><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo设置首页不显示文章全文/2.png" alt="2"></p><p>好了，到此Hexo设置首页不显示原文就安装成功了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hexo设置首页不显示文章全文&quot;&gt;&lt;a href=&quot;#Hexo设置首页不显示文章全文&quot; class=&quot;headerlink&quot; title=&quot;Hexo设置首页不显示文章全文&quot;&gt;&lt;/a&gt;Hexo设置首页不显示文章全文&lt;/h1&gt;&lt;h2 id=&quot;修改主题配置文件&quot;&gt;&lt;a 
      
    
    </summary>
    
      <category term="搭建教程" scheme="http://yoursite.com/categories/%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tagss/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Next添加本地搜索功能</title>
    <link href="http://yoursite.com/2019/08/28/Hexo-Next%E6%B7%BB%E5%8A%A0%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/"/>
    <id>http://yoursite.com/2019/08/28/Hexo-Next添加本地搜索功能/</id>
    <published>2019-08-28T07:09:55.000Z</published>
    <updated>2021-08-05T08:06:22.160Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexo-Next添加本地搜索功能"><a href="#Hexo-Next添加本地搜索功能" class="headerlink" title="Hexo Next添加本地搜索功能"></a>Hexo Next添加本地搜索功能</h1><h2 id="安装本地搜索插件"><a href="#安装本地搜索插件" class="headerlink" title="安装本地搜索插件"></a>安装本地搜索插件</h2><p>在站点目录下执行<code>npm install hexo-generator-search --save</code>安装本地搜索插件</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next添加本地搜索功能/1.png" alt="1"></p><h2 id="修改站点配置文件"><a href="#修改站点配置文件" class="headerlink" title="修改站点配置文件"></a>修改站点配置文件</h2><p>在站点配置文件 _config.yml中添加如下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure><ul><li>path：索引文件的路径，相对于站点根目录</li><li>field：搜索范围，默认是 post，还可以选择 page、all，设置成 all 表示搜索所有页面</li><li>limit：限制搜索的条目数</li></ul><h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>在主题配置文件_config.yml中找到如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">  enable: false</span><br><span class="line">  trigger: auto</span><br><span class="line">  top_n_per_article: 1</span><br></pre></td></tr></table></figure><p> 将enable设成true</p><p>top_n_per_article 字段表示在每篇文章中显示的搜索结果数量，设成 -1 会显示每篇文章的所有搜索结果数量。</p><p>更改后如下</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next添加本地搜索功能/2.png" alt="2"></p><h2 id="启动Hexo"><a href="#启动Hexo" class="headerlink" title="启动Hexo"></a>启动Hexo</h2><p>启动后便可以在侧边栏看到本地搜索功能了</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next添加本地搜索功能/3.png" alt="3"></p><p>好了，到此Hexo添加本地搜索功能就成功了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hexo-Next添加本地搜索功能&quot;&gt;&lt;a href=&quot;#Hexo-Next添加本地搜索功能&quot; class=&quot;headerlink&quot; title=&quot;Hexo Next添加本地搜索功能&quot;&gt;&lt;/a&gt;Hexo Next添加本地搜索功能&lt;/h1&gt;&lt;h2 id=&quot;安装本地搜
      
    
    </summary>
    
      <category term="搭建教程" scheme="http://yoursite.com/categories/%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tagss/Hexo/"/>
    
      <category term="Next" scheme="http://yoursite.com/tagss/Next/"/>
    
  </entry>
  
  <entry>
    <title>Hexo添加打赏功能</title>
    <link href="http://yoursite.com/2019/08/28/Hexo%E6%B7%BB%E5%8A%A0%E6%89%93%E8%B5%8F%E5%8A%9F%E8%83%BD/"/>
    <id>http://yoursite.com/2019/08/28/Hexo添加打赏功能/</id>
    <published>2019-08-28T03:55:39.000Z</published>
    <updated>2021-08-05T08:09:01.342Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexo添加打赏功能"><a href="#Hexo添加打赏功能" class="headerlink" title="Hexo添加打赏功能"></a>Hexo添加打赏功能</h1><h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>在主题配置文件中，找到reward_comment，将其修改为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reward_comment: 如果对您有帮助，可以打赏哟！</span><br><span class="line">wechatpay: 图片链接或图片相对路径</span><br><span class="line">alipay: 图片链接或图片相对路径</span><br></pre></td></tr></table></figure><p>如下图所示</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo添加打赏功能/1.png" alt="1"></p><h2 id="启动Hexo"><a href="#启动Hexo" class="headerlink" title="启动Hexo"></a>启动Hexo</h2><p>启动hexo后，打开文章就可以看到了</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo添加打赏功能/2.png" alt="2"></p><p>好了，到此Hexo添加打赏功能就成功了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hexo添加打赏功能&quot;&gt;&lt;a href=&quot;#Hexo添加打赏功能&quot; class=&quot;headerlink&quot; title=&quot;Hexo添加打赏功能&quot;&gt;&lt;/a&gt;Hexo添加打赏功能&lt;/h1&gt;&lt;h2 id=&quot;修改主题配置文件&quot;&gt;&lt;a href=&quot;#修改主题配置文件&quot; cla
      
    
    </summary>
    
      <category term="搭建教程" scheme="http://yoursite.com/categories/%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tagss/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo添加RSS</title>
    <link href="http://yoursite.com/2019/08/28/Hexo%E6%B7%BB%E5%8A%A0RSS/"/>
    <id>http://yoursite.com/2019/08/28/Hexo添加RSS/</id>
    <published>2019-08-28T03:15:34.000Z</published>
    <updated>2021-08-05T08:08:39.590Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexo添加RSS"><a href="#Hexo添加RSS" class="headerlink" title="Hexo添加RSS"></a>Hexo添加RSS</h1><h2 id="安装RSS插件"><a href="#安装RSS插件" class="headerlink" title="安装RSS插件"></a>安装RSS插件</h2><p>在站点目录下执行<code>npm install hexo-generator-feed --save</code>安装RSS插件</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo添加RSS/1.png" alt="1"></p><h2 id="修改站点配置文件"><a href="#修改站点配置文件" class="headerlink" title="修改站点配置文件"></a>修改站点配置文件</h2><p>在站点目录下的配置文件_config.yml中，加入以下配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br></pre></td></tr></table></figure><h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>主题目录下的配置文件_config.yml文件中，将RSS设置为/atom.xml</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rss: /atom.xml</span><br></pre></td></tr></table></figure><h2 id="启动Hexo"><a href="#启动Hexo" class="headerlink" title="启动Hexo"></a>启动Hexo</h2><p>启动后就能看到RSS已经显示</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo添加RSS/2.png" alt="2"></p><p>好了，到此Hexo添加RSS功能就完成了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hexo添加RSS&quot;&gt;&lt;a href=&quot;#Hexo添加RSS&quot; class=&quot;headerlink&quot; title=&quot;Hexo添加RSS&quot;&gt;&lt;/a&gt;Hexo添加RSS&lt;/h1&gt;&lt;h2 id=&quot;安装RSS插件&quot;&gt;&lt;a href=&quot;#安装RSS插件&quot; class=&quot;he
      
    
    </summary>
    
      <category term="搭建教程" scheme="http://yoursite.com/categories/%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tagss/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Next统计文章访问量</title>
    <link href="http://yoursite.com/2019/08/27/Hexo-Next%E7%BB%9F%E8%AE%A1%E6%96%87%E7%AB%A0%E8%AE%BF%E9%97%AE%E9%87%8F/"/>
    <id>http://yoursite.com/2019/08/27/Hexo-Next统计文章访问量/</id>
    <published>2019-08-27T03:00:48.000Z</published>
    <updated>2021-08-05T08:06:45.658Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexo-Next统计文章访问量"><a href="#Hexo-Next统计文章访问量" class="headerlink" title="Hexo Next统计文章访问量"></a>Hexo Next统计文章访问量</h1><h2 id="注册LeanCloud"><a href="#注册LeanCloud" class="headerlink" title="注册LeanCloud"></a>注册LeanCloud</h2><p>前往<a href="https://leancloud.cn/dashboard/login.html#/signup" target="_blank" rel="noopener">LeanCloud</a>进行注册登陆</p><h2 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h2><p>点击创建应用</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/1.png" alt="1"></p><p>输入应用名称(名称随意), 选择开发版, 点击创建</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/2.png" alt="2"></p><h2 id="配置应用"><a href="#配置应用" class="headerlink" title="配置应用"></a>配置应用</h2><p>创建成功后点击应用右上角的设置</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/3.png" alt="3"></p><p>点击存储，创建Class，Class名称设置为Counter(必须为Counter)，选择无限制，点击创建</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/4.png" alt="4"></p><p>创建后点击设置，点击应用Key，获取App ID和App Key</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/5.png" alt="5"></p><h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>将主题配置文件/themes/next/_config.yml中的<code>leancloud_visitors:</code>的<code>enable</code>设为<code>true</code>，并将App ID和App Key填入</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/6.png" alt="6"></p><h2 id="配置域名"><a href="#配置域名" class="headerlink" title="配置域名"></a>配置域名</h2><p>点击安全中心, 填写自己博客对应的域名（注意协议、域名和端口号需严格一致）</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/7.png" alt="7"></p><h2 id="启动Hexo"><a href="#启动Hexo" class="headerlink" title="启动Hexo"></a>启动Hexo</h2><p>完成后执行<code>hexo clean</code>和<code>hexo s</code>启动Hexo,便可以看到访问量标志了</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Hexo-Next统计文章访问量/8.png" alt="8"></p><p>好了，到此Hexo Next添加统计文章访问量功能就完成了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hexo-Next统计文章访问量&quot;&gt;&lt;a href=&quot;#Hexo-Next统计文章访问量&quot; class=&quot;headerlink&quot; title=&quot;Hexo Next统计文章访问量&quot;&gt;&lt;/a&gt;Hexo Next统计文章访问量&lt;/h1&gt;&lt;h2 id=&quot;注册LeanClo
      
    
    </summary>
    
      <category term="搭建教程" scheme="http://yoursite.com/categories/%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Hexo" scheme="http://yoursite.com/tagss/Hexo/"/>
    
      <category term="Next" scheme="http://yoursite.com/tagss/Next/"/>
    
  </entry>
  
</feed>
