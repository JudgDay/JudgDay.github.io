<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>GaoJian&#39;blog</title>
  
  <subtitle>勤奋努力的鉴酱</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://zmjwdzjl.com/"/>
  <updated>2023-10-07T14:04:31.080Z</updated>
  <id>http://zmjwdzjl.com/</id>
  
  <author>
    <name>Gao Jian</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>FinalShell自动执行set +o history命令</title>
    <link href="http://zmjwdzjl.com/2023/10/07/FinalShell%E8%87%AA%E5%8A%A8%E6%89%A7%E8%A1%8Cset-o-history%E5%91%BD%E4%BB%A4/"/>
    <id>http://zmjwdzjl.com/2023/10/07/FinalShell自动执行set-o-history命令/</id>
    <published>2023-10-07T14:00:04.000Z</published>
    <updated>2023-10-07T14:04:31.080Z</updated>
    
    <content type="html"><![CDATA[<h1 id="FinalShell自动执行set-o-history命令"><a href="#FinalShell自动执行set-o-history命令" class="headerlink" title="FinalShell自动执行set +o history命令"></a>FinalShell自动执行set +o history命令</h1><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>FinalShell终端连接后自动执行<code>set +o history</code>命令</p><h2 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h2><p>FinalShell的服务器监控功能需要不停调用系统命令，来获取系统信息，可能生成大量命令历史记录，影响正常使用，因此暂时关闭历史功能</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;FinalShell自动执行set-o-history命令&quot;&gt;&lt;a href=&quot;#FinalShell自动执行set-o-history命令&quot; class=&quot;headerlink&quot; title=&quot;FinalShell自动执行set +o history命令&quot;&gt;&lt;/
      
    
    </summary>
    
      <category term="开发问题" scheme="http://zmjwdzjl.com/categories/%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="FinalShell" scheme="http://zmjwdzjl.com/tagss/FinalShell/"/>
    
  </entry>
  
  <entry>
    <title>IDEA解决Since Maven 3.8.1 http repositories are blocked问题</title>
    <link href="http://zmjwdzjl.com/2023/10/07/IDEA%E8%A7%A3%E5%86%B3Since-Maven-3-8-1-http-repositories-are-blocked%E9%97%AE%E9%A2%98/"/>
    <id>http://zmjwdzjl.com/2023/10/07/IDEA解决Since-Maven-3-8-1-http-repositories-are-blocked问题/</id>
    <published>2023-10-07T13:34:00.000Z</published>
    <updated>2023-10-07T13:58:58.813Z</updated>
    
    <content type="html"><![CDATA[<h1 id="IDEA解决Since-Maven-3-8-1-http-repositories-are-blocked问题"><a href="#IDEA解决Since-Maven-3-8-1-http-repositories-are-blocked问题" class="headerlink" title="IDEA解决Since Maven 3.8.1 http repositories are blocked问题"></a>IDEA解决Since Maven 3.8.1 http repositories are blocked问题</h1><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>IDEA下载引用的依赖时出现了<code>Since Maven 3.8.1 http repositories are blocked</code>错误</p><h2 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h2><p>从Maven 3.8.1开始，Maven不再支持http的依赖</p><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><ol><li><p>降低Maven版本</p><p>在IDEA的Settings中搜索Maven，将maven home path地址改成3.8.1以下版本即可。</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/IDEA解决Since Maven 3.8.1 http repositories are blocked问题/1.png" alt="1"></p></li><li><p>升级依赖</p><p>在pom.xml文件中将报错的依赖版本升级</p></li><li><p>修改Maven参数</p><p>在Maven命令中添加<code>-Dmaven.wagon.http.allowAll=true</code>参数来允许HTTP请求</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;IDEA解决Since-Maven-3-8-1-http-repositories-are-blocked问题&quot;&gt;&lt;a href=&quot;#IDEA解决Since-Maven-3-8-1-http-repositories-are-blocked问题&quot; class=&quot;h
      
    
    </summary>
    
      <category term="开发问题" scheme="http://zmjwdzjl.com/categories/%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="IDEA" scheme="http://zmjwdzjl.com/tagss/IDEA/"/>
    
  </entry>
  
  <entry>
    <title>Linux安装MySQL</title>
    <link href="http://zmjwdzjl.com/2023/09/11/Linux%E5%AE%89%E8%A3%85MySQL/"/>
    <id>http://zmjwdzjl.com/2023/09/11/Linux安装MySQL/</id>
    <published>2023-09-11T13:56:48.000Z</published>
    <updated>2023-09-11T15:54:13.870Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux安装MySQL"><a href="#Linux安装MySQL" class="headerlink" title="Linux安装MySQL"></a>Linux安装MySQL</h1><h2 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h2><p><a href="https://dev.mysql.com/downloads/repo/yum/" target="_blank" rel="noopener">MySQL官网下载地址</a></p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Linux安装MySQL/1.png" alt="1"></p><p>根据Linux操作系统版本下载正确的安装包</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="选择一个目录，将安装包上传至该目录"><a href="#选择一个目录，将安装包上传至该目录" class="headerlink" title="选择一个目录，将安装包上传至该目录"></a>选择一个目录，将安装包上传至该目录</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/</span><br></pre></td></tr></table></figure><h3 id="安装MySQL包"><a href="#安装MySQL包" class="headerlink" title="安装MySQL包"></a>安装MySQL包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql80-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure><h3 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql-community-server</span><br></pre></td></tr></table></figure><p>如果执行命令过程中提示：Unable to find a match: mysql-community-server，执行以下命令</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum module <span class="built_in">disable</span> mysql</span><br></pre></td></tr></table></figure><h3 id="设置权限"><a href="#设置权限" class="headerlink" title="设置权限"></a>设置权限</h3><p>通过chown命令改变文件的拥有者和群组<br>-R：处理指定目录以及其子目录下的所有文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown mysql:mysql -R /var/lib/mysql/</span><br></pre></td></tr></table></figure><h3 id="启动MySQL服务"><a href="#启动MySQL服务" class="headerlink" title="启动MySQL服务"></a>启动MySQL服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start</span><br></pre></td></tr></table></figure><h3 id="查看MySQL运行状态"><a href="#查看MySQL运行状态" class="headerlink" title="查看MySQL运行状态"></a>查看MySQL运行状态</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld status</span><br></pre></td></tr></table></figure><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Linux安装MySQL/2.png" alt="1"></p><p>看见running就表示启动成功了</p><h3 id="查看初始密码"><a href="#查看初始密码" class="headerlink" title="查看初始密码"></a>查看初始密码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep 'password' /var/log/mysqld.log</span><br></pre></td></tr></table></figure><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Linux安装MySQL/3.png" alt="1"></p><p> 如果能正常查看到，则OK。如果查看不到，则表示没有密码</p><h3 id="进入数据库"><a href="#进入数据库" class="headerlink" title="进入数据库"></a>进入数据库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><p>输入命令后回车，会让你输入密码，如果没有密码，直接回车即可</p><p> 如果显示数据库无法访问</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Linux安装MySQL/4.png" alt="1"></p><h4 id="停止MySQL服务"><a href="#停止MySQL服务" class="headerlink" title="停止MySQL服务"></a>停止MySQL服务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld stop</span><br></pre></td></tr></table></figure><h4 id="编辑配置文件"><a href="#编辑配置文件" class="headerlink" title="编辑配置文件"></a>编辑配置文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/my.cnf</span><br></pre></td></tr></table></figure><h4 id="添加skip-grant-tables"><a href="#添加skip-grant-tables" class="headerlink" title="添加skip-grant-tables"></a>添加skip-grant-tables</h4><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Linux安装MySQL/5.png" alt="1"></p><p> 添加skip-grant-tables，这样MySQL可以免密登录。</p><h4 id="再次启动MySQL服务"><a href="#再次启动MySQL服务" class="headerlink" title="再次启动MySQL服务"></a>再次启动MySQL服务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start</span><br></pre></td></tr></table></figure><h4 id="再次登录MySQL就可以进入了"><a href="#再次登录MySQL就可以进入了" class="headerlink" title="再次登录MySQL就可以进入了"></a>再次登录MySQL就可以进入了</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><h3 id="切换mysql数据库"><a href="#切换mysql数据库" class="headerlink" title="切换mysql数据库"></a>切换mysql数据库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br></pre></td></tr></table></figure><h3 id="更改密码"><a href="#更改密码" class="headerlink" title="更改密码"></a>更改密码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 更改密码，XXX为设置的密码</span></span><br><span class="line">ALTER USER 'root'@'localhost' IDENTIFIED BY 'XXX';</span><br><span class="line"><span class="meta">#</span><span class="bash"> 一般执行完上面一句会报如下错误</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ERROR 1290 (HY000): The MySQL server is running with the --skip-grant-tables option so it cannot execute this statement</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在mysql中输入flush privileges重新加载MySQL权限信息</span></span><br><span class="line">flush privileges;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 再次更改密码，XXX为设置的密码</span></span><br><span class="line">ALTER USER 'root'@'localhost' IDENTIFIED BY 'XXX';</span><br><span class="line"><span class="meta">#</span><span class="bash"> 退出MySQL</span></span><br><span class="line">exit;</span><br></pre></td></tr></table></figure><h3 id="修改配置文件，删除skip-grant-tables"><a href="#修改配置文件，删除skip-grant-tables" class="headerlink" title="修改配置文件，删除skip-grant-tables"></a>修改配置文件，删除skip-grant-tables</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 停止MySQL服务</span></span><br><span class="line">service mysqld stop</span><br><span class="line"><span class="comment"># 修改配置文件，删除skip-grant-tables</span></span><br><span class="line">vi /etc/my.cnf</span><br><span class="line"><span class="comment"># 开启MySQL服务</span></span><br><span class="line">service mysqld start</span><br></pre></td></tr></table></figure><p>使用新密码即可登录</p><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>如果访问MySQL数据库失败，则记得看下下面三个配置是否OK</p><h4 id="服务器的防火墙是否开放MySQL端口3306"><a href="#服务器的防火墙是否开放MySQL端口3306" class="headerlink" title="服务器的防火墙是否开放MySQL端口3306"></a>服务器的防火墙是否开放MySQL端口3306</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看firewalld状态，若是dead状态，即防火墙未开启</span></span><br><span class="line">systemctl status firewalld</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看防火墙是否开放3306端口</span></span><br><span class="line">firewall-cmd --query-port=3306/tcp</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 关闭防火墙</span></span><br><span class="line">systemctl stop firewalld</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置3306端口为永久开放</span></span><br><span class="line">firewall-cmd --add-port=3306/tcp --permanent</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重启防火墙（设置了新的端口记得先关闭，再重启）</span></span><br><span class="line">systemctl start firewalld</span><br></pre></td></tr></table></figure><h4 id="如果是云服务器，查看云安全组规则是否开放了3306端口"><a href="#如果是云服务器，查看云安全组规则是否开放了3306端口" class="headerlink" title="如果是云服务器，查看云安全组规则是否开放了3306端口"></a>如果是云服务器，查看云安全组规则是否开放了3306端口</h4><h4 id="不在同一局域网内连接，需要授权远程用户登录"><a href="#不在同一局域网内连接，需要授权远程用户登录" class="headerlink" title="不在同一局域网内连接，需要授权远程用户登录"></a>不在同一局域网内连接，需要授权远程用户登录</h4><p>若提示<code>Host is not allowed to connect to this MySQL server</code>则需要授权远程用户登录</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Linux安装MySQL/6.png" alt="1"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 登录MySQL</span></span><br><span class="line">mysql -u root -p</span><br><span class="line"><span class="comment"># 切换mysql数据库</span></span><br><span class="line">use mysql;</span><br><span class="line"><span class="comment"># 授权远程用户登录</span></span><br><span class="line">update user <span class="built_in">set</span> host = <span class="string">'%'</span> <span class="built_in">where</span> user = <span class="string">'root'</span>;</span><br><span class="line"><span class="comment"># 重新加载MySQL权限信息</span></span><br><span class="line">flush privileges;</span><br><span class="line"><span class="comment"># 退出MySQL</span></span><br><span class="line"><span class="built_in">exit</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux安装MySQL&quot;&gt;&lt;a href=&quot;#Linux安装MySQL&quot; class=&quot;headerlink&quot; title=&quot;Linux安装MySQL&quot;&gt;&lt;/a&gt;Linux安装MySQL&lt;/h1&gt;&lt;h2 id=&quot;下载安装包&quot;&gt;&lt;a href=&quot;#下载安装包&quot; c
      
    
    </summary>
    
      <category term="安装教程" scheme="http://zmjwdzjl.com/categories/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Linux" scheme="http://zmjwdzjl.com/tagss/Linux/"/>
    
      <category term="MySQL" scheme="http://zmjwdzjl.com/tagss/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Linux安装JDK并配置环境变量</title>
    <link href="http://zmjwdzjl.com/2023/09/10/Linux%E5%AE%89%E8%A3%85JDK%E5%B9%B6%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/"/>
    <id>http://zmjwdzjl.com/2023/09/10/Linux安装JDK并配置环境变量/</id>
    <published>2023-09-10T14:46:33.000Z</published>
    <updated>2023-09-11T15:30:27.759Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux安装JDK并配置环境变量"><a href="#Linux安装JDK并配置环境变量" class="headerlink" title="Linux安装JDK并配置环境变量"></a>Linux安装JDK并配置环境变量</h1><h2 id="下载JDK"><a href="#下载JDK" class="headerlink" title="下载JDK"></a>下载JDK</h2><p><a href="https://www.oracle.com/java/technologies/downloads/" target="_blank" rel="noopener">JDK官网下载地址</a></p><p>选择JDK版本后根据Linux操作系统位数下载正确的安装包</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Linux安装JDK并配置环境变量/1.png" alt="1"></p><p>现在下载JDK安装包需要注册Oracle账号</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 选择一个目录，将安装包上传至该目录</span></span><br><span class="line">cd /usr/local/</span><br><span class="line"><span class="meta">#</span><span class="bash"> 解压安装包</span></span><br><span class="line">tar -zxvf jdk-8u381-linux-x64.tar.gz</span><br></pre></td></tr></table></figure><h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><p>修改配置文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br></pre></td></tr></table></figure><p>将下面内容粘贴到末尾，并保存</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/jdk1.8.0_381</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br></pre></td></tr></table></figure><p>重新加载配置文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h2 id="验证安装"><a href="#验证安装" class="headerlink" title="验证安装"></a>验证安装</h2><p>输入<code>java -version</code>命令，若出现jdk版本号，则安装成功</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux安装JDK并配置环境变量&quot;&gt;&lt;a href=&quot;#Linux安装JDK并配置环境变量&quot; class=&quot;headerlink&quot; title=&quot;Linux安装JDK并配置环境变量&quot;&gt;&lt;/a&gt;Linux安装JDK并配置环境变量&lt;/h1&gt;&lt;h2 id=&quot;下载JDK
      
    
    </summary>
    
      <category term="安装教程" scheme="http://zmjwdzjl.com/categories/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="JDK" scheme="http://zmjwdzjl.com/tagss/JDK/"/>
    
      <category term="Linux" scheme="http://zmjwdzjl.com/tagss/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux更改密码</title>
    <link href="http://zmjwdzjl.com/2023/09/10/Linux%E6%9B%B4%E6%94%B9%E5%AF%86%E7%A0%81/"/>
    <id>http://zmjwdzjl.com/2023/09/10/Linux更改密码/</id>
    <published>2023-09-10T14:34:43.000Z</published>
    <updated>2023-09-10T14:43:52.559Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux更改密码"><a href="#Linux更改密码" class="headerlink" title="Linux更改密码"></a>Linux更改密码</h1><ol><li>输入<code>passwd</code>命令</li><li>输入新的密码，回车</li><li>重新输入新的密码，回车</li><li>提示所有的身份验证令牌已成功更新，则更改成功</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux更改密码&quot;&gt;&lt;a href=&quot;#Linux更改密码&quot; class=&quot;headerlink&quot; title=&quot;Linux更改密码&quot;&gt;&lt;/a&gt;Linux更改密码&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;输入&lt;code&gt;passwd&lt;/code&gt;命令&lt;/li&gt;
&lt;li&gt;输入新
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Linux" scheme="http://zmjwdzjl.com/tagss/Linux/"/>
    
  </entry>
  
  <entry>
    <title>解决移动硬盘无法读取问题</title>
    <link href="http://zmjwdzjl.com/2023/09/10/%E8%A7%A3%E5%86%B3%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98%E6%97%A0%E6%B3%95%E8%AF%BB%E5%8F%96%E9%97%AE%E9%A2%98/"/>
    <id>http://zmjwdzjl.com/2023/09/10/解决移动硬盘无法读取问题/</id>
    <published>2023-09-10T14:29:39.000Z</published>
    <updated>2023-09-10T14:30:11.235Z</updated>
    
    <content type="html"><![CDATA[<h1 id="解决移动硬盘无法读取问题"><a href="#解决移动硬盘无法读取问题" class="headerlink" title="解决移动硬盘无法读取问题"></a>解决移动硬盘无法读取问题</h1><h2 id="情况"><a href="#情况" class="headerlink" title="情况"></a>情况</h2><p>移动硬盘连接电脑后无法识别，但仍可以听到移动硬盘连接上的声音，并且移动硬盘转动声音正常，手触摸有震动感，移动硬盘的指示灯正常，打开我的电脑，也可以看到显示出移动硬盘的盘符，但就是无法打开。</p><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>在移动硬盘运行时，没有点击右下角的安全移除移动硬盘，在硬盘运行的时候直接拔掉导致硬盘无法读取。最好把移动硬盘所有程序停止并安全移除后，再拔掉移动硬盘。</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><ol><li>移动硬盘连接电脑</li><li>查看移动硬盘的卷标</li><li>打开cmd</li><li>输入<code>chkdsk H:/f</code> (H为移动硬盘卷标)</li><li>等待运行完成，就可以正常读取了</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;解决移动硬盘无法读取问题&quot;&gt;&lt;a href=&quot;#解决移动硬盘无法读取问题&quot; class=&quot;headerlink&quot; title=&quot;解决移动硬盘无法读取问题&quot;&gt;&lt;/a&gt;解决移动硬盘无法读取问题&lt;/h1&gt;&lt;h2 id=&quot;情况&quot;&gt;&lt;a href=&quot;#情况&quot; class=&quot;
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="移动硬盘" scheme="http://zmjwdzjl.com/tagss/%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98/"/>
    
  </entry>
  
  <entry>
    <title>Mac解决重启后环境变量失效问题</title>
    <link href="http://zmjwdzjl.com/2023/09/10/Mac%E8%A7%A3%E5%86%B3%E9%87%8D%E5%90%AF%E5%90%8E%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/"/>
    <id>http://zmjwdzjl.com/2023/09/10/Mac解决重启后环境变量失效问题/</id>
    <published>2023-09-10T14:22:11.000Z</published>
    <updated>2023-09-10T14:23:10.640Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mac解决重启后环境变量失效问题"><a href="#Mac解决重启后环境变量失效问题" class="headerlink" title="Mac解决重启后环境变量失效问题"></a>Mac解决重启后环境变量失效问题</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 编辑.zshrc文件</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="meta">#</span><span class="bash"> 在文件末尾加入生效配置文件命令，保存后重启</span></span><br><span class="line">source ~/.bash_profile</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mac解决重启后环境变量失效问题&quot;&gt;&lt;a href=&quot;#Mac解决重启后环境变量失效问题&quot; class=&quot;headerlink&quot; title=&quot;Mac解决重启后环境变量失效问题&quot;&gt;&lt;/a&gt;Mac解决重启后环境变量失效问题&lt;/h1&gt;&lt;figure class=&quot;hi
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Mac" scheme="http://zmjwdzjl.com/tagss/Mac/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot计算汉字相似度</title>
    <link href="http://zmjwdzjl.com/2023/09/10/SpringBoot%E8%AE%A1%E7%AE%97%E6%B1%89%E5%AD%97%E7%9B%B8%E4%BC%BC%E5%BA%A6/"/>
    <id>http://zmjwdzjl.com/2023/09/10/SpringBoot计算汉字相似度/</id>
    <published>2023-09-10T14:15:00.000Z</published>
    <updated>2023-09-10T14:20:26.275Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot计算汉字相似度"><a href="#SpringBoot计算汉字相似度" class="headerlink" title="SpringBoot计算汉字相似度"></a>SpringBoot计算汉字相似度</h1><h2 id="引入依赖"><a href="#引入依赖" class="headerlink" title="引入依赖"></a>引入依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.houbb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>nlp-hanzi-similar<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="计算相似度"><a href="#计算相似度" class="headerlink" title="计算相似度"></a>计算相似度</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    System.out.println(HanziSimilarHelper.similar(<span class="string">'末'</span>, <span class="string">'未'</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="相似汉字"><a href="#相似汉字" class="headerlink" title="相似汉字"></a>相似汉字</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    System.out.println(HanziSimilarHelper.similarList(<span class="string">'爱'</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;SpringBoot计算汉字相似度&quot;&gt;&lt;a href=&quot;#SpringBoot计算汉字相似度&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot计算汉字相似度&quot;&gt;&lt;/a&gt;SpringBoot计算汉字相似度&lt;/h1&gt;&lt;h2 id=&quot;引入依赖&quot;
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="SpringBoot" scheme="http://zmjwdzjl.com/tagss/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot汉字转拼音</title>
    <link href="http://zmjwdzjl.com/2023/07/30/SpringBoot%E6%B1%89%E5%AD%97%E8%BD%AC%E6%8B%BC%E9%9F%B3/"/>
    <id>http://zmjwdzjl.com/2023/07/30/SpringBoot汉字转拼音/</id>
    <published>2023-07-30T15:53:59.000Z</published>
    <updated>2023-09-10T13:51:25.631Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot汉字转拼音"><a href="#SpringBoot汉字转拼音" class="headerlink" title="SpringBoot汉字转拼音"></a>SpringBoot汉字转拼音</h1><h2 id="引入依赖"><a href="#引入依赖" class="headerlink" title="引入依赖"></a>引入依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.hankcs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hanlp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>portable-1.8.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="汉字转拼音"><a href="#汉字转拼音" class="headerlink" title="汉字转拼音"></a>汉字转拼音</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.collections4.ListUtils;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List&lt;Pinyin&gt; pinyins = PinyinDictionary.convertToPinyin(<span class="string">"重庆"</span>);</span><br><span class="line">    ListUtils.emptyIfNull(pinyins).forEach(v-&gt; System.out.print(v.getPinyinWithoutTone()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="汉字首字母"><a href="#汉字首字母" class="headerlink" title="汉字首字母"></a>汉字首字母</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.collections4.ListUtils;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List&lt;Pinyin&gt; pinyins = PinyinDictionary.convertToPinyin(<span class="string">"重庆"</span>);</span><br><span class="line">    ListUtils.emptyIfNull(pinyins).forEach(v-&gt; System.out.print(v.getFirstChar()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="汉字符号音调"><a href="#汉字符号音调" class="headerlink" title="汉字符号音调"></a>汉字符号音调</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.collections4.ListUtils;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List&lt;Pinyin&gt; pinyins = PinyinDictionary.convertToPinyin(<span class="string">"重庆"</span>);</span><br><span class="line">    ListUtils.emptyIfNull(pinyins).forEach(v-&gt; System.out.print(v.getPinyinWithToneMark()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="汉字数字音调"><a href="#汉字数字音调" class="headerlink" title="汉字数字音调"></a>汉字数字音调</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.collections4.ListUtils;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List&lt;Pinyin&gt; pinyins = PinyinDictionary.convertToPinyin(<span class="string">"重庆"</span>);</span><br><span class="line">    ListUtils.emptyIfNull(pinyins).forEach(v-&gt; System.out.print(v));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="汉字声母"><a href="#汉字声母" class="headerlink" title="汉字声母"></a>汉字声母</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.collections4.ListUtils;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List&lt;Pinyin&gt; pinyins = PinyinDictionary.convertToPinyin(<span class="string">"重庆"</span>);</span><br><span class="line">    ListUtils.emptyIfNull(pinyins).forEach(v-&gt; System.out.print(v.getShengmu()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="汉字音调"><a href="#汉字音调" class="headerlink" title="汉字音调"></a>汉字音调</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.collections4.ListUtils;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List&lt;Pinyin&gt; pinyins = PinyinDictionary.convertToPinyin(<span class="string">"重庆"</span>);</span><br><span class="line">    ListUtils.emptyIfNull(pinyins).forEach(v-&gt; System.out.print(v.getTone()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;SpringBoot汉字转拼音&quot;&gt;&lt;a href=&quot;#SpringBoot汉字转拼音&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot汉字转拼音&quot;&gt;&lt;/a&gt;SpringBoot汉字转拼音&lt;/h1&gt;&lt;h2 id=&quot;引入依赖&quot;&gt;&lt;a href
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="SpringBoot" scheme="http://zmjwdzjl.com/tagss/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>HTTP 413错误解决方法</title>
    <link href="http://zmjwdzjl.com/2023/07/30/HTTP-413%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <id>http://zmjwdzjl.com/2023/07/30/HTTP-413错误解决方法/</id>
    <published>2023-07-30T15:48:54.000Z</published>
    <updated>2023-09-10T13:54:04.420Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTTP-413错误解决方法"><a href="#HTTP-413错误解决方法" class="headerlink" title="HTTP 413错误解决方法"></a>HTTP 413错误解决方法</h1><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>由于上传文件过大引起的，排查服务器是否有使用nginx做反向代理</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>修改nginx配置文件，调整客户端请求大小和缓存大小</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">client_max_body_size</span> <span class="number">10M</span>;</span><br><span class="line">    <span class="attribute">client_body_buffer_size</span> <span class="number">128k</span>;</span><br><span class="line">    <span class="attribute">fastcgi_intercept_errors</span> <span class="literal">on</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>client_max_body_size: 客户端请求服务器最大允许大小，默认1M。如果请求的正文数据大于client_max_body_size，HTTP协议会报413 Request Entity Too Large。</p><p>client_body_buffer_size: nginx分配给请求数据的Buffer大小，如果请求的数据小于client_body_buffer_size则将数据先在内存中存储。如果请求的值大于client_body_buffer_size小于client_max_body_size，就会将数据先存储到临时文件中。</p><p>client_body_temp: 临时文件存储位置，默认/tmp/。配置的client_body_temp地址一定让执行的nginx的用户组有读写权限。否则，当传输的数据大于client_body_buffer_size，写进临时文件失败会报错。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">20648 open() "/usr/local/openresty-1.9.7.5/nginx/client_body_temp/0000000019" failed (13: Permission denied)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;HTTP-413错误解决方法&quot;&gt;&lt;a href=&quot;#HTTP-413错误解决方法&quot; class=&quot;headerlink&quot; title=&quot;HTTP 413错误解决方法&quot;&gt;&lt;/a&gt;HTTP 413错误解决方法&lt;/h1&gt;&lt;h2 id=&quot;原因&quot;&gt;&lt;a href=&quot;#原因&quot;
      
    
    </summary>
    
      <category term="开发问题" scheme="http://zmjwdzjl.com/categories/%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="HTTP Status Code" scheme="http://zmjwdzjl.com/tagss/HTTP-Status-Code/"/>
    
  </entry>
  
  <entry>
    <title>Linux之find命令</title>
    <link href="http://zmjwdzjl.com/2023/07/30/Linux%E4%B9%8Bfind%E5%91%BD%E4%BB%A4/"/>
    <id>http://zmjwdzjl.com/2023/07/30/Linux之find命令/</id>
    <published>2023-07-30T15:45:39.000Z</published>
    <updated>2023-09-10T13:56:08.544Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux之find命令"><a href="#Linux之find命令" class="headerlink" title="Linux之find命令"></a>Linux之find命令</h1><p><code>find</code> 命令用于在指定的目录下搜索目录和文件。可根据文件名、文件类型、文件大小、修改时间等条件进行筛选。</p><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find 目录路径 [选项参数] [搜索条件]</span><br></pre></td></tr></table></figure><ul><li>目录路径：指定要查找的目录路径。</li><li>选项参数：用于指定匹配条件，例如文件名、类型。</li><li>搜索条件：用于指定要搜索的文件和目录，满足这个条件的就会被搜索出来。</li></ul><h2 id="选项参数"><a href="#选项参数" class="headerlink" title="选项参数"></a>选项参数</h2><h3 id="name"><a href="#name" class="headerlink" title="-name"></a>-name</h3><p>按文件名进行匹配</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 搜索后缀为txt的文件</span></span><br><span class="line">find / -name "*.txt"</span><br></pre></td></tr></table></figure><h3 id="type"><a href="#type" class="headerlink" title="-type"></a>-type</h3><p>按文件类型进行匹配</p><p><code>d</code>: 目录、<code>f</code>: 文件、<code>l</code>: 符号链接（软链接）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 搜索文件类型为目录的文件</span></span><br><span class="line">find / -type d</span><br></pre></td></tr></table></figure><h3 id="size"><a href="#size" class="headerlink" title="-size"></a>-size</h3><p>按文件大小进行匹配</p><p><code>+</code> : 大于、<code>-</code> ：小于</p><p>单位: <code>c</code>（字节）、<code>w</code>（字数）、<code>b</code>（块数）、<code>k</code>（KB）、<code>M</code>（MB）、 <code>G</code>（GB）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 搜索大于100KB的文件</span></span><br><span class="line">find / -size +100c</span><br></pre></td></tr></table></figure><h3 id="user"><a href="#user" class="headerlink" title="-user"></a>-user</h3><p>按文件所属用户进行匹配。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 搜索属于root用户的文件</span></span><br><span class="line">find / -user root</span><br></pre></td></tr></table></figure><h3 id="mtime"><a href="#mtime" class="headerlink" title="-mtime"></a>-mtime</h3><p>按文件最后内容的修改时间进行匹配</p><p><code>+</code> : 几天之内、<code>-</code> : 几天之前</p><p>单位: 天</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 搜索修改日期为7天前的文件</span></span><br><span class="line">find / -mtime -7</span><br></pre></td></tr></table></figure><h3 id="perm"><a href="#perm" class="headerlink" title="-perm"></a>-perm</h3><p>按文件权限进行匹配</p><p><code>/u</code>: 当前用户、<code>/g</code>: 组权限、<code>/o</code>: 其他用户权限、<code>/a</code>: 所有用户权限</p><p><code>+</code> : 具有、<code>-</code> : 不具有</p><p><code>r</code>: 读权限、<code>w</code>: 写权限、<code>x</code>: 执行权限</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查找具有读写权限的文件</span></span><br><span class="line">find / -perm /u+rw</span><br></pre></td></tr></table></figure><h3 id="exec"><a href="#exec" class="headerlink" title="-exec"></a>-exec</h3><p>对搜索的结果执行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 将后缀为txt的文件删除</span></span><br><span class="line">find / -name "*.txt" -exec rm &#123;&#125; \;</span><br></pre></td></tr></table></figure><p><code>{}</code>为占位符，将搜索的结果放到这里</p><p><code>-exec</code> 参数需要使用 <code>\;</code> 作为命令的结尾</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux之find命令&quot;&gt;&lt;a href=&quot;#Linux之find命令&quot; class=&quot;headerlink&quot; title=&quot;Linux之find命令&quot;&gt;&lt;/a&gt;Linux之find命令&lt;/h1&gt;&lt;p&gt;&lt;code&gt;find&lt;/code&gt; 命令用于在指定的目录下搜
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Linux" scheme="http://zmjwdzjl.com/tagss/Linux/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot事务回滚</title>
    <link href="http://zmjwdzjl.com/2023/07/30/SpringBoot%E4%BA%8B%E5%8A%A1%E5%9B%9E%E6%BB%9A/"/>
    <id>http://zmjwdzjl.com/2023/07/30/SpringBoot事务回滚/</id>
    <published>2023-07-30T15:38:56.000Z</published>
    <updated>2023-07-30T15:44:43.479Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot事务回滚"><a href="#SpringBoot事务回滚" class="headerlink" title="SpringBoot事务回滚"></a>SpringBoot事务回滚</h1><p>在开发过程中有时会遇到，多次操作数据时，某次操作出现问题导致程序终止，但是之前的数据已经操作，需要回滚使数据复原。基于这种情况，SpringBoot提供了一个注解@Transactional，帮助回滚事务。</p><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>在应用系统调用声明了@Transactional的目标方法时，Spring Framework 默认使用AOP代理，在代码运行时生成一个代理对象，根据@Transactional的属性配置信息，这个代理对象决定该声明 @Transactional 的目标方法是否由拦截器TransactionInterceptor来使用拦截，在TransactionInterceptor拦截时，会在目标方法开始执行之前创建并加入事务，并执行目标方法的逻辑，最后根据执行情况是否出现异常，利用抽象事务管理器AbstractPlatformTransactionManager操作数据源DataSource提交或回滚事务。</p><h2 id="开启事务"><a href="#开启事务" class="headerlink" title="开启事务"></a>开启事务</h2><p>启动类加上@EnableTransactionManagement注解，开启事务支持。</p><p>SpringBoot默认开启事务，直接在接口、类、方法上使用@Transactional注解即可。</p><h3 id="自动回滚"><a href="#自动回滚" class="headerlink" title="自动回滚"></a>自动回滚</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">submit</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    success();</span><br><span class="line">    <span class="comment">//假如error()会抛出异常，则success()对数据库的操作会回滚。</span></span><br><span class="line">    error();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="手动回滚"><a href="#手动回滚" class="headerlink" title="手动回滚"></a>手动回滚</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span>(rollbackFor = Exception.class)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">submit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    success();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        exception();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="comment">// 手动回滚事务</span></span><br><span class="line">        TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"error"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="部分回滚"><a href="#部分回滚" class="headerlink" title="部分回滚"></a>部分回滚</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span>(rollbackFor = Exception.class)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">submit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    success();</span><br><span class="line">    <span class="comment">//只回滚以下异常</span></span><br><span class="line">    Object savePoint = TransactionAspectSupport.currentTransactionStatus().createSavepoint();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        exception();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="comment">// 手动回滚事务</span></span><br><span class="line">        TransactionAspectSupport.currentTransactionStatus().rollbackToSavepoint(savePoint);</span><br><span class="line">        <span class="keyword">return</span> ApiReturnUtil.error();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ApiReturnUtil.success();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Transactional参数"><a href="#Transactional参数" class="headerlink" title="@Transactional参数"></a>@Transactional参数</h1><table><thead><tr><th>参数名称</th><th>描述</th></tr></thead><tbody><tr><td><strong>readOnly</strong></td><td>用于设置当前事务是否为只读事务。true表示只读，false则表示可读写，默认为false。例如：@Transactional(readOnly=true)</td></tr><tr><td><strong>rollbackFor</strong></td><td>用于设置需要进行回滚的<strong>异常类</strong>数组，当方法中抛出指定异常数组中的异常时，则进行事务回滚。默认为非检测性异常unchecked exceptions(RuntimeException和Error)。<br>例如：<br>指定单一异常类：@Transactional(rollbackFor=RuntimeException.class)<br>指定多个异常类：@Transactional(rollbackFor={RuntimeException.class, Exception.class})</td></tr><tr><td>transactionManager / value</td><td>多个事务管理器托管在Spring容器中时，指定事务管理器的bean名称</td></tr><tr><td>rollbackForClassName</td><td>用于设置需要进行回滚的<strong>异常类名称</strong>数组，当方法中抛出指定异常名称数组中的异常时，则进行事务回滚。<br>例如：<br>指定单一异常类名称：@Transactional(rollbackForClassName=”RuntimeException”)<br>指定多个异常类名称：@Transactional(rollbackForClassName={“RuntimeException”, “Exception”})</td></tr><tr><td>noRollbackFor</td><td>用于设置不需要进行回滚的<strong>异常类</strong>数组，当方法中抛出指定异常数组中的异常时，不进行事务回滚。<br>例如：<br>指定单一异常类：@Transactional(noRollbackFor=RuntimeException.class)<br>指定多个异常类：@Transactional(noRollbackFor={RuntimeException.class, Exception.class})</td></tr><tr><td>noRollbackForClassName</td><td>用于设置不需要进行回滚的<strong>异常类名称</strong>数组，当方法中抛出指定异常名称数组中的异常时，不进行事务回滚。<br>例如：<br>指定单一异常类名称：@Transactional(noRollbackForClassName=”RuntimeException”)<br>指定多个异常类名称：@Transactional(noRollbackForClassName={“RuntimeException”, “Exception”})</td></tr><tr><td>propagation</td><td>用于设置事务的传播行为。默认为REQUIRED。例如：@Transactional(propagation=Propagation.NOT_SUPPORTED, readOnly=true)</td></tr><tr><td>isolation</td><td>用于设置底层数据库的事务隔离级别，事务隔离级别用于处理多事务并发的情况，通常使用数据库的默认隔离级别即可，基本不需要进行设置。</td></tr><tr><td>timeout</td><td>用于设置事务的超时秒数。单位为秒，-1表示永不超时，默认为-1。例如：@Transactional(timeout=30)</td></tr></tbody></table><h3 id="Propagation参数（事务的传播行为）"><a href="#Propagation参数（事务的传播行为）" class="headerlink" title="@Propagation参数（事务的传播行为）"></a>@Propagation参数（事务的传播行为）</h3><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>REQUIRED</td><td>默认的传播行为。如果有事务，则加入事务。没有事务，则新建事务</td></tr><tr><td>SUPPORTS</td><td>如果有事务，则加入事务。没有事务，则不用事务</td></tr><tr><td>MANDATORY</td><td>必须在一个已有的事务中执行。如果当前存在事务，则加入该事务，如果当前不存在事务，则抛出异常</td></tr><tr><td>REQUIRES_NEW</td><td>不管是否存在事务，都新建事务执行。如果已有事务，则挂起当前事务，再新建事务，新的执行完毕, 再执行老的事务</td></tr><tr><td>NOT_SUPPORTED</td><td>必须在一个没有的事务中执行，如果当前已有事务，则将当前事务挂起</td></tr><tr><td>NEVER</td><td>必须在一个没有的事务中执行，否则抛出异常IllegalTransactionStateException</td></tr></tbody></table><h3 id="isolation参数（事务的隔离级别）"><a href="#isolation参数（事务的隔离级别）" class="headerlink" title="@isolation参数（事务的隔离级别）"></a>@isolation参数（事务的隔离级别）</h3><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>DEFAULT</td><td>默认的隔离级别。使用数据库默认的事务隔离级别。MYSQL默认隔离级别为REPEATABLE_READ，Oracle 默认隔离级别为READ_COMMITTED，SQLSERVER默认隔离级别为READ_COMMITTED</td></tr><tr><td>READ_UNCOMMITTED（读取未提交数据(）</td><td>最低的隔离级别。在事务完成前，其他事务可以看到该事务所修改的数据。而在其他事务提交前，该事务也可以看到其他事务所做的修改。可能导致脏读，幻读，不可重复读</td></tr><tr><td>READ_COMMITTED（读取已提交数据）</td><td>大多数数据库的默认级别。在事务完成前，其他事务无法看到该事务所修改的数据。在该事务提交后，你就可以查看其他事务插入或更新的数据。如果其他事务修改了数据，就会看到不同的数据。可防止脏读，但幻读和不可重复读仍可以发生</td></tr><tr><td>REPEATABLE_READ（可重复读）</td><td>比READ_COMMITTED更严格，该隔离级别确保如果在事务中查询了某个数据集，你至少还能再次查询到相同的数据集，即使其他事务修改了所查询的数据。然而如果其他事务插入了新数据，你就可以查询到该新插入的数据。可防止脏读，不可重复读，但幻读仍可能发生</td></tr><tr><td>SERIALIZABLE（串行化）</td><td>完全服从ACID的隔离级别，确保不发生脏读、不可重复读和幻影读。这在所有隔离级别中是最慢的，因为它通常是通过完全锁定当前事务所涉及的数据表来完成的。代价最大、可靠性最高的隔离级别。所有的事务都是按顺序一个接一个地执行。避免所有不安全读取</td></tr></tbody></table><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ol><li>@Transactional注解只能被应用到public方法上，对于其它的方法，标记了@Transactional注解也不会报错，但事务无法回滚。</li><li>外部调用的公共方法A<strong>未声明</strong>事务@Transactional，方法B若是<strong>其他类的方法</strong>且声明事务，则事务由子方法B控制。</li><li>外部调用的公共方法A<strong>未声明</strong>事务@Transactional，子方法B若是<strong>本类的方法</strong>，则无论子方法B是否声明事务，事务均不会生效。（可以使用applicationContext.getBean(service.class)直接从IOC容器中将类取出来，然后再调用方法B即可，这样就能用上Spring AOP生成的代理对象）</li><li>外部调用的公共方法A<strong>声明</strong>事务@Transactional，无论子方法B是不是本类的方法或者是否声明事务，事务均由公共方法A控制。</li><li>异常被try/catch捕获而没有被抛出，则事务无法回滚。</li><li>多线程下事务管理因为线程不属于spring托管，所以事物无法回滚。</li><li>数据库要支持事务，如果是mysql，要使用innodb引擎，myisam不支持事务。</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;SpringBoot事务回滚&quot;&gt;&lt;a href=&quot;#SpringBoot事务回滚&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot事务回滚&quot;&gt;&lt;/a&gt;SpringBoot事务回滚&lt;/h1&gt;&lt;p&gt;在开发过程中有时会遇到，多次操作数据时，某次
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="SpringBoot" scheme="http://zmjwdzjl.com/tagss/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>Git Commit Message规范</title>
    <link href="http://zmjwdzjl.com/2023/07/30/Git-Commit-Message%E8%A7%84%E8%8C%83/"/>
    <id>http://zmjwdzjl.com/2023/07/30/Git-Commit-Message规范/</id>
    <published>2023-07-30T15:36:24.000Z</published>
    <updated>2023-07-30T15:36:51.313Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Git-Commit-Message规范"><a href="#Git-Commit-Message规范" class="headerlink" title="Git Commit Message规范"></a>Git Commit Message规范</h1><h2 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">type</span>&gt;</span>(<span class="tag">&lt;<span class="name">scope</span>&gt;</span>): <span class="tag">&lt;<span class="name">subject</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">BLANK</span> <span class="attr">LINE</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">BLANK</span> <span class="attr">LINE</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure><p>提交信息包含三个部分header(type、scope、subject)、body和footer，用空行分隔。每个部分不能超过100个字符。</p><p>header: 必填，且必须符合header格式。</p><p>body: 可填，详细描述提交的内容，可以分为多行。</p><p>footer: 可填，其他备注, 一般用于不兼容更新或关闭issue。</p><h3 id="header"><a href="#header" class="headerlink" title="header"></a>header</h3><p>header包括三个部分：type（必填）、scope（可填）和subject（必填）。</p><h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><p>type: commit 类型，有业内常用的字段，也可以根据需要自己定义。</p><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>feat</td><td>增加新功能</td></tr><tr><td>fix</td><td>修复问题/BUG</td></tr><tr><td>docs</td><td>文档/注释</td></tr><tr><td>style</td><td>代码风格相关无影响运行结果的</td></tr><tr><td>refactor</td><td>重构</td></tr><tr><td>test</td><td>测试相关</td></tr><tr><td>chore</td><td>构建过程或辅助工具的变动</td></tr></tbody></table><h4 id="scope"><a href="#scope" class="headerlink" title="scope"></a>scope</h4><p>scope: commit影响的范围, 比如某某组件、某某页面。</p><h4 id="subject"><a href="#subject" class="headerlink" title="subject"></a>subject</h4><p>subject:  简短描述提交的内容。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Git-Commit-Message规范&quot;&gt;&lt;a href=&quot;#Git-Commit-Message规范&quot; class=&quot;headerlink&quot; title=&quot;Git Commit Message规范&quot;&gt;&lt;/a&gt;Git Commit Message规范&lt;/h1&gt;&lt;
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Git" scheme="http://zmjwdzjl.com/tagss/Git/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot重试机制</title>
    <link href="http://zmjwdzjl.com/2023/07/30/SpringBoot%E9%87%8D%E8%AF%95%E6%9C%BA%E5%88%B6/"/>
    <id>http://zmjwdzjl.com/2023/07/30/SpringBoot重试机制/</id>
    <published>2023-07-30T15:28:03.000Z</published>
    <updated>2023-10-07T12:58:50.149Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot重试机制"><a href="#SpringBoot重试机制" class="headerlink" title="SpringBoot重试机制"></a>SpringBoot重试机制</h1><p>spring-retry是SpringBatch的一个子项目，可以使用它向代码添加重试逻辑。在spring-retry中，所有配置都是基于简单注释的，在方法上添加<code>@Retryable</code>即可。</p><h2 id="引入依赖"><a href="#引入依赖" class="headerlink" title="引入依赖"></a>引入依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.retry<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-retry<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="开启"><a href="#开启" class="headerlink" title="开启"></a>开启</h2><p>只有启用@EnabelRetry才行，写在配置类、启动类或services上都可以。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.retry.annotation.EnableRetry;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableRetry</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RetryConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@EnableRetry</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestRetryServiceImpl</span> <span class="keyword">implements</span> <span class="title">TestRetryService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Retryable</span>(value = Exception.class,maxAttempts = <span class="number">4</span>,backoff = <span class="meta">@Backoff</span>(delay = <span class="number">2000</span>,multiplier = <span class="number">1.5</span>))</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> code)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"test开始"</span> + LocalTime.now());</span><br><span class="line">        <span class="keyword">if</span> (code == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"test"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"test结束"</span> + LocalTime.now());</span><br><span class="line">        <span class="keyword">return</span> <span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Retryable参数"><a href="#Retryable参数" class="headerlink" title="@Retryable参数"></a>@Retryable参数</h2><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>value</td><td>指定重试的异常，默认为空。include的同义词，如果excludes也为空，则重试所有异常</td></tr><tr><td>include</td><td>指定重试的异常，默认为空</td></tr><tr><td>exclude</td><td>指定不重试的异常，默认为空</td></tr><tr><td>maxAttempts</td><td>最大重试次数，默认3次</td></tr><tr><td>backoff</td><td>重试等待策略，默认使用<code>@Backoff</code></td></tr></tbody></table><h3 id="Backoff参数"><a href="#Backoff参数" class="headerlink" title="@Backoff参数"></a>@Backoff参数</h3><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>value</td><td>重试间隔时间，单位毫秒，默认1000</td></tr><tr><td>multiplier</td><td>重试间隔时间倍数，默认为0。若value为2，multiplier为1.5，则第一次重试为2秒，第二次为3秒，第三次为4.5秒</td></tr></tbody></table><h2 id="回调"><a href="#回调" class="headerlink" title="回调"></a>回调</h2><p>当重试耗尽后，RetryOperations可以将控制传递给一个回调方法，即RecoveryCallback。spring-retry还提供了@Recover注解，用于@Retryable重试失败后回调。如果不需要回调方法，可以不写回调方法，重试耗尽后，如果还没成功符合业务判断，则抛出异常。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Recover</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">recover</span><span class="params">(Exception e, <span class="keyword">int</span> code)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"回调方法执行！！！！"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">400</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ol><li>回调方法与重试方法需写在同一个实现类里。</li><li>回调方法的返回值必须与重试方法一致。</li><li>重试方法内不能使用try catch，只能往外抛异常</li><li>由于spring-retry用到了aspect增强，所以在方法内部调用重试方法会失效。</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;SpringBoot重试机制&quot;&gt;&lt;a href=&quot;#SpringBoot重试机制&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot重试机制&quot;&gt;&lt;/a&gt;SpringBoot重试机制&lt;/h1&gt;&lt;p&gt;spring-retry是SpringBat
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="SpringBoot" scheme="http://zmjwdzjl.com/tagss/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>Docker修改RabbitMQ密码</title>
    <link href="http://zmjwdzjl.com/2023/07/30/Docker%E4%BF%AE%E6%94%B9RabbitMQ%E5%AF%86%E7%A0%81/"/>
    <id>http://zmjwdzjl.com/2023/07/30/Docker修改RabbitMQ密码/</id>
    <published>2023-07-30T15:25:10.000Z</published>
    <updated>2023-07-30T15:25:49.754Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Docker修改RabbitMQ密码"><a href="#Docker修改RabbitMQ密码" class="headerlink" title="Docker修改RabbitMQ密码"></a>Docker修改RabbitMQ密码</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 进入rabbitmq的容器</span><br><span class="line">docker exec -it 容器ID bash</span><br><span class="line"><span class="meta">#</span> 修改rabbitmq密码</span><br><span class="line">rabbitmqctl change_password 账户 '密码'</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Docker修改RabbitMQ密码&quot;&gt;&lt;a href=&quot;#Docker修改RabbitMQ密码&quot; class=&quot;headerlink&quot; title=&quot;Docker修改RabbitMQ密码&quot;&gt;&lt;/a&gt;Docker修改RabbitMQ密码&lt;/h1&gt;&lt;figure c
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Docker" scheme="http://zmjwdzjl.com/tagss/Docker/"/>
    
      <category term="RabbitMQ" scheme="http://zmjwdzjl.com/tagss/RabbitMQ/"/>
    
  </entry>
  
  <entry>
    <title>Mac切换JDK版本</title>
    <link href="http://zmjwdzjl.com/2023/07/30/Mac%E5%88%87%E6%8D%A2JDK%E7%89%88%E6%9C%AC/"/>
    <id>http://zmjwdzjl.com/2023/07/30/Mac切换JDK版本/</id>
    <published>2023-07-30T15:21:56.000Z</published>
    <updated>2023-10-07T13:06:35.990Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mac切换JDK版本"><a href="#Mac切换JDK版本" class="headerlink" title="Mac切换JDK版本"></a>Mac切换JDK版本</h1><p>首先安装各个版本的jdk，安装教程略过，三个版本最终安装目录如下，版本号根据情况略有不同</p><p>通过以下明亮可以</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/libexec/java_home -V</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">JDK1.6:</span> <span class="string">/Library/Java/JavaVirtualMachines/1.6.0.jdk</span></span><br><span class="line"><span class="string">JDK1.8:</span> <span class="string">/Library/Java/JavaVirtualMachines/jdk1.8.0_261.jdk</span></span><br><span class="line"><span class="attr">JDK20:</span> <span class="string">/Library/Java/JavaVirtualMachines/jdk-20.jdk</span></span><br></pre></td></tr></table></figure><p>安装jdk后，编辑bash_profile</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bash_profile</span><br></pre></td></tr></table></figure><p>添加如下内容</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_6_HOME=`/usr/libexec/java_home -v 1.6`</span><br><span class="line">export JAVA_8_HOME=`/usr/libexec/java_home -v 1.8`</span><br><span class="line">export JAVA_20_HOME=`/usr/libexec/java_home -v 20`</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">默认设为JDK1.8</span></span><br><span class="line">export JAVA_HOME=$JAVA_8_HOME</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">设置<span class="built_in">alias</span>命令动态切换JDK版本</span></span><br><span class="line">alias jdk6="export JAVA_HOME=$JAVA_6_HOME"</span><br><span class="line">alias jdk8="export JAVA_HOME=$JAVA_8_HOME"</span><br><span class="line">alias jdk20="export JAVA_HOME=$JAVA_20_HOME"</span><br></pre></td></tr></table></figure><p>执行生效命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bash_profile</span><br></pre></td></tr></table></figure><p>之后只需在终端中输入alias命令就可以切换jdk版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jdk20</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mac切换JDK版本&quot;&gt;&lt;a href=&quot;#Mac切换JDK版本&quot; class=&quot;headerlink&quot; title=&quot;Mac切换JDK版本&quot;&gt;&lt;/a&gt;Mac切换JDK版本&lt;/h1&gt;&lt;p&gt;首先安装各个版本的jdk，安装教程略过，三个版本最终安装目录如下，版本号根据
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Mac" scheme="http://zmjwdzjl.com/tagss/Mac/"/>
    
  </entry>
  
  <entry>
    <title>Mac重启后环境变量失效问题</title>
    <link href="http://zmjwdzjl.com/2023/07/30/Mac%E9%87%8D%E5%90%AF%E5%90%8E%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/"/>
    <id>http://zmjwdzjl.com/2023/07/30/Mac重启后环境变量失效问题/</id>
    <published>2023-07-30T15:15:10.000Z</published>
    <updated>2023-07-30T15:15:57.056Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mac重启后环境变量失效问题"><a href="#Mac重启后环境变量失效问题" class="headerlink" title="Mac重启后环境变量失效问题"></a>Mac重启后环境变量失效问题</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 编辑.zshrc文件</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="meta">#</span><span class="bash"> 在文件末尾加入生效配置文件命令，保存后重启</span></span><br><span class="line">source ~/.bash_profile</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mac重启后环境变量失效问题&quot;&gt;&lt;a href=&quot;#Mac重启后环境变量失效问题&quot; class=&quot;headerlink&quot; title=&quot;Mac重启后环境变量失效问题&quot;&gt;&lt;/a&gt;Mac重启后环境变量失效问题&lt;/h1&gt;&lt;figure class=&quot;highlight 
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Mac" scheme="http://zmjwdzjl.com/tagss/Mac/"/>
    
  </entry>
  
  <entry>
    <title>Docker设置Redis密码</title>
    <link href="http://zmjwdzjl.com/2023/07/30/Docker%E8%AE%BE%E7%BD%AERedis%E5%AF%86%E7%A0%81/"/>
    <id>http://zmjwdzjl.com/2023/07/30/Docker设置Redis密码/</id>
    <published>2023-07-30T15:09:17.000Z</published>
    <updated>2023-07-30T15:11:23.781Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Docker设置Redis密码"><a href="#Docker设置Redis密码" class="headerlink" title="Docker设置Redis密码"></a>Docker设置Redis密码</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 进入redis的容器</span><br><span class="line">docker exec -it 容器ID bash</span><br><span class="line"><span class="meta">#</span> 进入redis目录</span><br><span class="line">cd /usr/local/bin</span><br><span class="line"><span class="meta">#</span> 运行命令</span><br><span class="line">redis-cli</span><br><span class="line"><span class="meta">#</span> 查看现有的redis密码</span><br><span class="line">config get requirepass</span><br><span class="line"><span class="meta">#</span> 设置redis密码</span><br><span class="line">config set requirepass 密码</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Docker设置Redis密码&quot;&gt;&lt;a href=&quot;#Docker设置Redis密码&quot; class=&quot;headerlink&quot; title=&quot;Docker设置Redis密码&quot;&gt;&lt;/a&gt;Docker设置Redis密码&lt;/h1&gt;&lt;figure class=&quot;highli
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Docker" scheme="http://zmjwdzjl.com/tagss/Docker/"/>
    
      <category term="Redis" scheme="http://zmjwdzjl.com/tagss/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Docker查看容器IP</title>
    <link href="http://zmjwdzjl.com/2023/01/26/Docker%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8IP/"/>
    <id>http://zmjwdzjl.com/2023/01/26/Docker查看容器IP/</id>
    <published>2023-01-26T11:27:40.000Z</published>
    <updated>2023-01-26T11:43:45.990Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Docker查看容器IP"><a href="#Docker查看容器IP" class="headerlink" title="Docker查看容器IP"></a>Docker查看容器IP</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect 容器ID</span><br></pre></td></tr></table></figure><p>IPAddress就是容器IP</p><p><img src="https://blog-1306810038.cos.ap-beijing.myqcloud.com/Docker查看容器IP/1.png" alt="1"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Docker查看容器IP&quot;&gt;&lt;a href=&quot;#Docker查看容器IP&quot; class=&quot;headerlink&quot; title=&quot;Docker查看容器IP&quot;&gt;&lt;/a&gt;Docker查看容器IP&lt;/h1&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="Docker" scheme="http://zmjwdzjl.com/tagss/Docker/"/>
    
  </entry>
  
  <entry>
    <title>MySQL设置不区分表名大小写</title>
    <link href="http://zmjwdzjl.com/2021/12/06/MySQL%E8%AE%BE%E7%BD%AE%E4%B8%8D%E5%8C%BA%E5%88%86%E8%A1%A8%E5%90%8D%E5%A4%A7%E5%B0%8F%E5%86%99/"/>
    <id>http://zmjwdzjl.com/2021/12/06/MySQL设置不区分表名大小写/</id>
    <published>2021-12-06T06:32:23.000Z</published>
    <updated>2021-12-06T07:38:53.474Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MySQL设置不区分表明大小写"><a href="#MySQL设置不区分表明大小写" class="headerlink" title="MySQL设置不区分表明大小写"></a>MySQL设置不区分表明大小写</h2><p>MySQL创建环境时没有要求表名称不区分大小写，若期望表名不再区分大小写，需修改<strong>lower_case_table_names</strong>参数并重启服务。另外要注意，该参数修改会导致之前大写存储的表将无法识别，需要特殊处理。</p><h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><p>进入/etc目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/</span><br></pre></td></tr></table></figure><p>编辑my.cnf文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi my.cnf</span><br></pre></td></tr></table></figure><p>在文件最后一行加上</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lower_case_table_names</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure><p>重启MySQL</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld restart</span><br></pre></td></tr></table></figure><h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>到MySQL的安装目录下，修改my.ini文件，在文件最后一行加上</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lower_case_table_names</span>=<span class="number">1</span></span><br></pre></td></tr></table></figure><p>重启MySQL</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;MySQL设置不区分表明大小写&quot;&gt;&lt;a href=&quot;#MySQL设置不区分表明大小写&quot; class=&quot;headerlink&quot; title=&quot;MySQL设置不区分表明大小写&quot;&gt;&lt;/a&gt;MySQL设置不区分表明大小写&lt;/h2&gt;&lt;p&gt;MySQL创建环境时没有要求表名称不
      
    
    </summary>
    
      <category term="小技巧" scheme="http://zmjwdzjl.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="MySQL" scheme="http://zmjwdzjl.com/tagss/MySQL/"/>
    
  </entry>
  
</feed>
